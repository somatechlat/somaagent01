
# LOCAL BUILDS
# Run these commands from the project root folder

# local development image based on local files with smart cache
docker build -f DockerfileLocal -t agent-zero-local --build-arg CACHE_DATE=$(date +%Y-%m-%d:%H:%M:%S) .

# local development image based on local files without cache
docker build -f DockerfileLocal -t agent-zero-local --no-cache .

# local image based on testing branch instead of local files
docker build -f ./docker/run/Dockerfile -t agent-zero-testing --build-arg BRANCH=testing .



# dockerhub push:
# Run these commands from the project root folder


docker login

# development:
docker buildx build -f ./docker/run/Dockerfile -t agent0ai/agent-zero:development --platform linux/amd64,linux/arm64 --push --build-arg BRANCH=development --build-arg CACHE_DATE=$(date +%Y-%m-%d:%H:%M:%S) ./docker/run

# testing:
docker buildx build -f ./docker/run/Dockerfile -t agent0ai/agent-zero:testing --platform linux/amd64,linux/arm64 --push --build-arg BRANCH=testing --build-arg CACHE_DATE=$(date +%Y-%m-%d:%H:%M:%S) ./docker/run

# main
docker buildx build -f ./docker/run/Dockerfile -t agent0ai/agent-zero:vx.x.x  -t agent0ai/agent-zero:latest --platform linux/amd64,linux/arm64 --push --build-arg BRANCH=main --build-arg CACHE_DATE=$(date +%Y-%m-%d:%H:%M:%S) ./docker/run


# plain output
--progress=plain