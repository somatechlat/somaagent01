{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "AgentBenchmarkEventV1",
  "description": "Event schema for benchmark runs emitted by the agent pipeline.",
  "type": "object",
  "required": [
    "event_type",
    "benchmark_id",
    "run_id",
    "run_version",
    "suite",
    "dataset",
    "task_id",
    "metrics",
    "status",
    "timestamp"
  ],
  "properties": {
    "event_type": {
      "type": "string",
      "const": "agent.benchmarks.v1",
      "description": "Versioned event type identifier"
    },
    "benchmark_id": {
      "type": "string",
      "description": "Unique identifier for the logical benchmark run (UUID recommended)"
    },
    "run_id": {
      "type": "string",
      "description": "Unique identifier for the agent run associated with this benchmark record"
    },
    "run_version": {
      "type": "string",
      "description": "Orchestrator/run engine version (e.g., 'legacy', 'langgraph-v1')"
    },
    "suite": {
      "type": "string",
      "description": "Benchmark suite name (e.g., 'soma.core')"
    },
    "dataset": {
      "type": "string",
      "description": "Dataset name or URI used for the benchmark"
    },
    "task_id": {
      "type": "string",
      "description": "Identifier of the specific task/case within the dataset"
    },
    "params": {
      "type": "object",
      "description": "Optional hyperparameters or configuration used for the run",
      "additionalProperties": true
    },
    "metrics": {
      "type": "object",
      "description": "Flat numeric metrics map (e.g., {accuracy: 0.84, latency_ms_p95: 920})",
      "additionalProperties": {
        "type": ["number", "integer"]
      }
    },
    "status": {
      "type": "string",
      "enum": ["started", "completed", "failed"],
      "description": "Lifecycle status of the benchmark record"
    },
    "duration_ms": {
      "type": ["integer", "null"],
      "minimum": 0,
      "description": "Optional duration of the benchmark execution in milliseconds"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "RFC 3339 timestamp of event emission"
    },
    "tags": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Optional labels for filtering/aggregation"
    },
    "meta": {
      "type": "object",
      "description": "Optional free-form metadata",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
