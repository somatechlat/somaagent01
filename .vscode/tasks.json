{
  // VS Code tasks to make testing and stack control one-click
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Stack: Up (dev)",
      "type": "shell",
      "command": "make dev-up",
      "problemMatcher": []
    },
    {
      "label": "Stack: Logs (dev)",
      "type": "shell",
      "command": "make dev-logs",
      "isBackground": true,
      "problemMatcher": []
    },
    {
      "label": "Stack: Down (dev)",
      "type": "shell",
      "command": "make dev-down",
      "problemMatcher": []
    },
    {
      "label": "UI: Smoke (Playwright)",
      "type": "shell",
      "options": {
        "env": {
          "WEB_UI_BASE_URL": "http://localhost:21016/ui"
        }
      },
      "command": "./scripts/ui-smoke.sh",
      "problemMatcher": []
    },
    {
      "label": "UI: Console Clean (pytest)",
      "type": "shell",
      "command": ".venv/bin/python -m pytest -q tests/e2e/test_console_clean.py",
      "problemMatcher": []
    },
    {
      "label": "E2E: Quick (SSE)",
      "type": "shell",
      "command": ".venv/bin/python scripts/e2e_quick.py http://127.0.0.1:21016",
      "problemMatcher": []
    },
    {
      "label": "Gateway: Health",
      "type": "shell",
      "command": "curl -fsS -D - http://127.0.0.1:21016/v1/health -o /dev/null",
      "problemMatcher": []
    },
    {
      "label": "LLM: Set Groq key",
      "type": "shell",
      "detail": "Requires GROQ_API_KEY in your environment",
      "command": "curl -fsS -X POST http://127.0.0.1:21016/v1/llm/credentials -H 'Content-Type: application/json' -d '{\"provider\":\"groq\",\"secret\":\"'\${GROQ_API_KEY:-}\"}'",
      "problemMatcher": []
    },
    {
      "label": "mkdocs-build",
      "type": "shell",
      "command": "mkdocs build",
      "args": [],
      "problemMatcher": ["$gcc"],
      "group": "build"
    }
    ,
    {
      "label": "E2E: Tool flow (pytest)",
      "type": "shell",
      "command": ".venv/bin/python -m pytest -q tests/e2e/test_tool_flow.py",
      "problemMatcher": []
    }
  ]
}