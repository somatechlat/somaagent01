# =============================================================================
# SOMA AGENT-AS-A-SERVICE (AAAS) ENVIRONMENT CONFIGURATION
# =============================================================================
# Single-entity deployment: Agent + Brain + Memory = ONE process
# =============================================================================

# -----------------------------------------------------------------------------
# CORE MODE SETTINGS
# -----------------------------------------------------------------------------
SA01_DEPLOYMENT_MODE=AAAS
SOMA_AAAS_MODE=true
SOMA_SINGLE_PROCESS=true
DJANGO_SETTINGS_MODULE=infra.aaas.unified_settings

# -----------------------------------------------------------------------------
# DATABASE (All services share)
# -----------------------------------------------------------------------------
POSTGRES_HOST=somastack_postgres
POSTGRES_PORT=5432
POSTGRES_USER=soma
POSTGRES_PASSWORD=soma
POSTGRES_DB=somaagent

# Service-specific databases
SOMABRAIN_DB=somabrain
SOMA_DB_NAME=somamemory

# -----------------------------------------------------------------------------
# REDIS
# -----------------------------------------------------------------------------
REDIS_HOST=somastack_redis
REDIS_PORT=6379
REDIS_URL=redis://somastack_redis:6379/0

# -----------------------------------------------------------------------------
# MILVUS (Vector Database)
# -----------------------------------------------------------------------------
SOMA_MILVUS_HOST=somastack_milvus
SOMA_MILVUS_PORT=19530

# -----------------------------------------------------------------------------
# KAFKA
# -----------------------------------------------------------------------------
KAFKA_BOOTSTRAP_SERVERS=somastack_kafka:9092

# -----------------------------------------------------------------------------
# KEYCLOAK (Identity)
# -----------------------------------------------------------------------------
SA01_KEYCLOAK_URL=http://somastack_keycloak:8080
SA01_KEYCLOAK_REALM=somaagent
SA01_KEYCLOAK_CLIENT_ID=somaagent-api

# -----------------------------------------------------------------------------
# VAULT (Secrets)
# -----------------------------------------------------------------------------
VAULT_ADDR=http://somastack_vault:8200
VAULT_TOKEN=soma-dev-token

# -----------------------------------------------------------------------------
# API SETTINGS
# -----------------------------------------------------------------------------
SOMA_PORT=9000
SOMA_WORKERS=4
DEBUG=false

# API Token (for inter-service auth in distributed mode)
SOMA_API_TOKEN=your-secure-api-token-here

# -----------------------------------------------------------------------------
# EXTERNAL PORTS (Host mapping)
# -----------------------------------------------------------------------------
# Main API: 63900 -> 9000
# Postgres: 63932 -> 5432
# Redis: 63979 -> 6379
# Milvus: 63953 -> 19530
# Kafka: 63992 -> 9092
# Keycloak: 63980 -> 8080
# Vault: 63982 -> 8200
