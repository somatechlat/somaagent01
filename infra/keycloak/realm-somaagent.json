{
    "id": "somaagent",
    "realm": "somaagent",
    "displayName": "SomaAgent SaaS Platform",
    "displayNameHtml": "<div class=\"kc-logo-text\"><span>SomaAgent</span></div>",
    "enabled": true,
    "sslRequired": "external",
    "registrationAllowed": false,
    "loginWithEmailAllowed": true,
    "duplicateEmailsAllowed": false,
    "resetPasswordAllowed": true,
    "editUsernameAllowed": false,
    "bruteForceProtected": true,
    "permanentLockout": false,
    "maxFailureWaitSeconds": 900,
    "minimumQuickLoginWaitSeconds": 60,
    "waitIncrementSeconds": 60,
    "quickLoginCheckMilliSeconds": 1000,
    "maxDeltaTimeSeconds": 43200,
    "failureFactor": 5,
    "defaultRole": {
        "id": "default-roles-somaagent",
        "name": "default-roles-somaagent",
        "composite": true,
        "clientRole": false
    },
    "requiredCredentials": [
        "password"
    ],
    "otpPolicyType": "totp",
    "otpPolicyAlgorithm": "HmacSHA1",
    "otpPolicyInitialCounter": 0,
    "otpPolicyDigits": 6,
    "otpPolicyLookAheadWindow": 1,
    "otpPolicyPeriod": 30,
    "otpSupportedApplications": [
        "totpAppGoogleName",
        "totpAppMicrosoftAuthenticatorName"
    ],
    "accessTokenLifespan": 900,
    "accessTokenLifespanForImplicitFlow": 900,
    "ssoSessionIdleTimeout": 1800,
    "ssoSessionMaxLifespan": 36000,
    "ssoSessionIdleTimeoutRememberMe": 0,
    "ssoSessionMaxLifespanRememberMe": 0,
    "offlineSessionIdleTimeout": 2592000,
    "offlineSessionMaxLifespanEnabled": false,
    "accessCodeLifespan": 60,
    "accessCodeLifespanUserAction": 300,
    "accessCodeLifespanLogin": 1800,
    "actionTokenGeneratedByAdminLifespan": 43200,
    "actionTokenGeneratedByUserLifespan": 300,
    "roles": {
        "realm": [
            {
                "id": "saas_admin",
                "name": "saas_admin",
                "description": "SaaS Platform Administrator (God Mode)",
                "composite": false,
                "clientRole": false
            },
            {
                "id": "tenant_sysadmin",
                "name": "tenant_sysadmin",
                "description": "Tenant System Administrator",
                "composite": false,
                "clientRole": false
            },
            {
                "id": "tenant_admin",
                "name": "tenant_admin",
                "description": "Tenant Administrator",
                "composite": false,
                "clientRole": false
            },
            {
                "id": "agent_owner",
                "name": "agent_owner",
                "description": "Agent Owner",
                "composite": false,
                "clientRole": false
            },
            {
                "id": "developer",
                "name": "developer",
                "description": "Agent Developer (DEV mode access)",
                "composite": false,
                "clientRole": false
            },
            {
                "id": "trainer",
                "name": "trainer",
                "description": "Agent Trainer (TRN mode access)",
                "composite": false,
                "clientRole": false
            },
            {
                "id": "user",
                "name": "user",
                "description": "Standard User (STD mode access)",
                "composite": false,
                "clientRole": false
            },
            {
                "id": "viewer",
                "name": "viewer",
                "description": "Read-Only Viewer (RO mode access)",
                "composite": false,
                "clientRole": false
            }
        ]
    },
    "groups": [
        {
            "id": "saas_admins",
            "name": "saas_admins",
            "path": "/saas_admins",
            "realmRoles": [
                "saas_admin"
            ]
        }
    ],
    "clients": [
        {
            "id": "eye-of-god",
            "clientId": "eye-of-god",
            "name": "Eye of God SaaS UI",
            "description": "SomaAgent SaaS Platform Web UI",
            "enabled": true,
            "publicClient": true,
            "standardFlowEnabled": true,
            "implicitFlowEnabled": false,
            "directAccessGrantsEnabled": true,
            "serviceAccountsEnabled": false,
            "authorizationServicesEnabled": false,
            "redirectUris": [
                "http://localhost:5173/*",
                "http://localhost:21016/*",
                "https://*.somatech.lat/*"
            ],
            "webOrigins": [
                "http://localhost:5173",
                "http://localhost:21016",
                "https://*.somatech.lat"
            ],
            "attributes": {
                "post.logout.redirect.uris": "+",
                "access.token.lifespan": "900",
                "pkce.code.challenge.method": "S256"
            },
            "defaultClientScopes": [
                "web-origins",
                "profile",
                "roles",
                "email",
                "tenant"
            ],
            "optionalClientScopes": [
                "address",
                "phone",
                "offline_access",
                "microprofile-jwt"
            ]
        }
    ],
    "clientScopes": [
        {
            "id": "tenant",
            "name": "tenant",
            "description": "Multi-tenant scope with tenant_id claim",
            "protocol": "openid-connect",
            "attributes": {
                "include.in.token.scope": "true",
                "display.on.consent.screen": "false"
            },
            "protocolMappers": [
                {
                    "id": "tenant-id-mapper",
                    "name": "tenant_id",
                    "protocol": "openid-connect",
                    "protocolMapper": "oidc-usermodel-attribute-mapper",
                    "consentRequired": false,
                    "config": {
                        "userinfo.token.claim": "true",
                        "user.attribute": "tenant_id",
                        "id.token.claim": "true",
                        "access.token.claim": "true",
                        "claim.name": "tenant_id",
                        "jsonType.label": "String"
                    }
                }
            ]
        }
    ],
    "identityProviders": [
        {
            "alias": "google",
            "displayName": "Google",
            "providerId": "google",
            "enabled": true,
            "trustEmail": true,
            "storeToken": false,
            "addReadTokenRoleOnCreate": false,
            "firstBrokerLoginFlowAlias": "first broker login",
            "config": {
                "clientId": "${GOOGLE_CLIENT_ID}",
                "clientSecret": "${GOOGLE_CLIENT_SECRET}",
                "defaultScope": "openid email profile",
                "syncMode": "IMPORT"
            }
        },
        {
            "alias": "github",
            "displayName": "GitHub",
            "providerId": "github",
            "enabled": true,
            "trustEmail": true,
            "storeToken": false,
            "addReadTokenRoleOnCreate": false,
            "firstBrokerLoginFlowAlias": "first broker login",
            "config": {
                "clientId": "${GITHUB_CLIENT_ID}",
                "clientSecret": "${GITHUB_CLIENT_SECRET}",
                "defaultScope": "user:email",
                "syncMode": "IMPORT"
            }
        }
    ],
    "browserSecurityHeaders": {
        "contentSecurityPolicyReportOnly": "",
        "xContentTypeOptions": "nosniff",
        "xRobotsTag": "none",
        "xFrameOptions": "SAMEORIGIN",
        "contentSecurityPolicy": "frame-src 'self'; frame-ancestors 'self'; object-src 'none';",
        "xXSSProtection": "1; mode=block",
        "strictTransportSecurity": "max-age=31536000; includeSubDomains",
        "referrerPolicy": "no-referrer"
    },
    "smtpServer": {},
    "eventsEnabled": true,
    "eventsListeners": [
        "jboss-logging"
    ],
    "enabledEventTypes": [
        "LOGIN",
        "LOGIN_ERROR",
        "LOGOUT",
        "LOGOUT_ERROR",
        "REGISTER",
        "REGISTER_ERROR",
        "UPDATE_PASSWORD",
        "UPDATE_PASSWORD_ERROR",
        "UPDATE_PROFILE",
        "UPDATE_TOTP",
        "REMOVE_TOTP"
    ],
    "adminEventsEnabled": true,
    "adminEventsDetailsEnabled": true,
    "internationalizationEnabled": true,
    "supportedLocales": [
        "en",
        "es",
        "fr",
        "de"
    ],
    "defaultLocale": "en"
}
