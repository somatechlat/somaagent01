@startuml
!define RECTANGLE class
skinparam rectangle {
  BackgroundColor<<Component>> LightYellow
  BorderColor Black
}

actor User
RECTANGLE "Gateway API" as API <<Component>>
RECTANGLE "Kafka Cluster" as Kafka <<Component>>
RECTANGLE "PostgreSQL DB" as DB <<Component>>
RECTANGLE "Prometheus" as Prom <<Component>>
RECTANGLE "SomaBrain" as Brain <<Component>>

User --> API : HTTP/REST
API --> Kafka : Publish events
API --> DB : SQL queries
Kafka --> API : Consume events
API --> Prom : Export metrics
API --> Brain : Memory/Recall
@enduml
