# SRS: Complete UI/UX Screen Specifications

**Document ID:** SA01-SRS-UIUX-SPECS-2025-12
**Purpose:** Detailed UI/UX specification for every screen
**Status:** CANONICAL REFERENCE FOR IMPLEMENTATION

---

## 1. Design System Reference

### 1.1 Canonical Token Source

> **âš ï¸ ALWAYS USE:** [tokens.css](file:///Users/macbookpro201916i964gb1tb/Documents/GitHub/somaAgent01/webui/src/styles/tokens.css)

```css
/* Key Light Theme Tokens */
--saas-bg-page: #f5f5f5;
--saas-bg-card: #ffffff;
--saas-text-primary: #1a1a1a;
--saas-text-secondary: #666666;
--saas-accent: #1a1a1a;
--saas-border-light: #e0e0e0;

/* Status Colors (Universal) */
--saas-status-success: #22c55e;
--saas-status-warning: #f59e0b;
--saas-status-danger: #ef4444;
--saas-status-info: #3b82f6;

/* Spacing */
--saas-space-xs: 4px;
--saas-space-sm: 8px;
--saas-space-md: 16px;
--saas-space-lg: 24px;
```

### 1.2 Common Patterns

| Pattern | Usage |
|---------|-------|
| Card | Container for content sections |
| Data Table | Paginated lists |
| Modal | Edit forms, confirmations |
| Toast | Success/error notifications |
| Loading Skeleton | Loading states |

---

## 2. Platform Admin Screens

### 2.1 Infrastructure Dashboard

**Route:** `/platform/infrastructure`

#### Wireframe
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Platform Admin > Infrastructure                            ğŸ”„ Refresh     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  SYSTEM STATUS: ğŸŸ¢ All Systems Operational     Last check: 30 seconds ago  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  CORE SERVICES                                                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚              â”‚              â”‚              â”‚                        â”‚   â”‚
â”‚  â”‚  PostgreSQL  â”‚    Redis     â”‚   Temporal   â”‚      Qdrant            â”‚   â”‚
â”‚  â”‚  ğŸŸ¢ 45ms     â”‚  ğŸŸ¢ 2ms      â”‚  ğŸŸ¢ 5 active â”‚    ğŸŸ¢ 1.2M vectors     â”‚   â”‚
â”‚  â”‚  [Details]   â”‚  [Details]   â”‚  [Details]   â”‚    [Details]           â”‚   â”‚
â”‚  â”‚              â”‚              â”‚              â”‚                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  EXTERNAL SERVICES                                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚              â”‚              â”‚              â”‚                        â”‚   â”‚
â”‚  â”‚  Keycloak    â”‚    Lago      â”‚  SomaBrain   â”‚      Voice             â”‚   â”‚
â”‚  â”‚  ğŸŸ¢ 3 realms â”‚  ğŸŸ¢ $12K MRR â”‚  ğŸŸ¡ Degraded â”‚    ğŸŸ¢ STT+TTS OK       â”‚   â”‚
â”‚  â”‚  [Details]   â”‚  [Details]   â”‚  [Details]   â”‚    [Details]           â”‚   â”‚
â”‚  â”‚              â”‚              â”‚              â”‚                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  INFRASTRUCTURE                                                     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚              â”‚              â”‚              â”‚                        â”‚   â”‚
â”‚  â”‚  MCP Servers â”‚   Storage    â”‚    Email     â”‚    Rate Limits         â”‚   â”‚
â”‚  â”‚  ğŸŸ¢ 12 OK    â”‚  ğŸŸ¢ S3 OK    â”‚  ğŸŸ¢ SMTP OK  â”‚    ğŸŸ¢ Normal           â”‚   â”‚
â”‚  â”‚  [Manage]    â”‚  [Manage]    â”‚  [Manage]    â”‚    [Configure]         â”‚   â”‚
â”‚  â”‚              â”‚              â”‚              â”‚                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Data Requirements

| Field | Source | Type | Update |
|-------|--------|------|--------|
| `services[]` | API | Array | Poll 30s |
| `services[].name` | API | String | - |
| `services[].status` | API | Enum | healthy/degraded/down |
| `services[].latency_ms` | API | Number | - |
| `services[].metric` | API | String | Service-specific |
| `last_check` | Local | Timestamp | On refresh |

#### Interactions

| Action | Trigger | Result |
|--------|---------|--------|
| Click service card | Click | Navigate to service detail |
| Click Refresh | Click | Re-fetch all health data |
| Auto-refresh | Timer | Poll every 30 seconds |

#### Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  Loading...      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Error State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Unable to fetch service health       â”‚
â”‚                                          â”‚
â”‚  [Retry]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.2 Rate Limit Editor

**Route:** `/platform/infrastructure/redis/ratelimits`

#### Wireframe
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Infrastructure > Redis > Rate Limits                       [+ Add Limit]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Tabs: [Global Limits] [Tier Overrides] [Audit Trail]                       â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  KEY            LIMIT      WINDOW     POLICY    USAGE    ACTIONS   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  api_calls      1,000      1 hour     HARD      45%      [âœï¸][ğŸ—‘ï¸]  â”‚   â”‚
â”‚  â”‚  llm_tokens     100,000    24 hours   SOFT      23%      [âœï¸][ğŸ—‘ï¸]  â”‚   â”‚
â”‚  â”‚  voice_minutes  60         24 hours   SOFT      78%      [âœï¸][ğŸ—‘ï¸]  â”‚   â”‚
â”‚  â”‚  file_uploads   50         1 hour     HARD      12%      [âœï¸][ğŸ—‘ï¸]  â”‚   â”‚
â”‚  â”‚  memory_queries 500        1 hour     SOFT      34%      [âœï¸][ğŸ—‘ï¸]  â”‚   â”‚
â”‚  â”‚  websocket_conn 100        -          HARD      8%       [âœï¸][ğŸ—‘ï¸]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  Showing 6 of 6 rate limits                                 [< 1 2 3 >]   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Edit Modal
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Edit Rate Limit: api_calls                            [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Key:           api_calls (read-only)                       â”‚
â”‚                                                             â”‚
â”‚  Limit:         [1000        ] requests                     â”‚
â”‚                                                             â”‚
â”‚  Window:        [1 hour      â–¼]                             â”‚
â”‚                                                             â”‚
â”‚  Enforcement:   â—‹ HARD - Block when exceeded                â”‚
â”‚                 â— SOFT - Warn but allow                     â”‚
â”‚                 â—‹ NONE - No enforcement                     â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  TIER OVERRIDES                                       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Free:       [100     ]                               â”‚ â”‚
â”‚  â”‚  Starter:    [1000    ]                               â”‚ â”‚
â”‚  â”‚  Team:       [10000   ]                               â”‚ â”‚
â”‚  â”‚  Enterprise: [999999  ] (unlimited)                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚                              [Cancel]  [Save Changes]       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Form Validation

| Field | Rule | Error Message |
|-------|------|---------------|
| `limit` | Required, > 0 | "Limit must be a positive number" |
| `window_seconds` | Required, > 0 | "Window is required" |
| `tier_overrides.*` | Optional, >= 0 | "Override must be non-negative" |

#### Data Requirements

| Field | Source | Type |
|-------|--------|------|
| `ratelimits[]` | API | Array |
| `ratelimits[].key` | API | String |
| `ratelimits[].limit` | API | Number |
| `ratelimits[].window_seconds` | API | Number |
| `ratelimits[].policy` | API | Enum |
| `ratelimits[].tier_overrides` | API | Object |
| `current_usage[]` | API | Array (percentage) |

---

### 2.3 Platform Metrics Dashboard

**Route:** `/platform/metrics`

#### Wireframe
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Platform Admin > Metrics                          Period: [Last 24h â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  API REQUESTS   â”‚ â”‚   LLM CALLS     â”‚ â”‚  TOOL EXECS     â”‚ â”‚  ERRORS    â”‚â”‚
â”‚  â”‚  1.2M           â”‚ â”‚   456K          â”‚ â”‚   89K           â”‚ â”‚  0.02%     â”‚â”‚
â”‚  â”‚  +12% â–²         â”‚ â”‚   +5% â–²         â”‚ â”‚   -3% â–¼         â”‚ â”‚  -0.01% â–¼  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  LATENCY DISTRIBUTION                                               â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  [============================================]  CHART AREA         â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”€â”€ p50   â”€â”€ p95   â”€â”€ p99                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  TOKEN USAGE                  â”‚ â”‚  CIRCUIT BREAKERS                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Input:  45.2M   ($2,890)     â”‚ â”‚  somabrain_memory   ğŸŸ¢ CLOSED     â”‚   â”‚
â”‚  â”‚  Output: 12.8M   ($1,245)     â”‚ â”‚  openai_llm         ğŸŸ¢ CLOSED     â”‚   â”‚
â”‚  â”‚  Total:  58.0M   ($4,135)     â”‚ â”‚  qdrant_vectors     ğŸŸ¢ CLOSED     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  SLA COMPLIANCE                                                     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  METRIC              TARGET    ACTUAL    STATUS                     â”‚   â”‚
â”‚  â”‚  LLM Latency p99     < 5s      3.2s      âœ… PASS                    â”‚   â”‚
â”‚  â”‚  API Availability    99.9%     99.95%    âœ… PASS                    â”‚   â”‚
â”‚  â”‚  Memory Durability   99.99%    100%      âœ… PASS                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Data Requirements

| Field | Source | Type | Update |
|-------|--------|------|--------|
| `api_requests.total` | Prometheus | Number | Poll 60s |
| `api_requests.change` | Prometheus | Percentage | - |
| `llm_calls.total` | Prometheus | Number | - |
| `tool_executions.total` | Prometheus | Number | - |
| `error_rate` | Prometheus | Percentage | - |
| `latency.p50/p95/p99` | Prometheus | Number[] | - |
| `tokens.input/output` | Prometheus | Number | - |
| `circuit_breakers[]` | API | Array | - |
| `sla_compliance[]` | API | Array | - |

---

## 3. Tenant Admin Screens

### 3.1 Tenant Usage Dashboard

**Route:** `/admin/usage`

#### Wireframe
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard > Usage                         Billing Period: Dec 1-31, 2025  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  QUOTA USAGE                                                        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  API Calls       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  52,345 / 100,000   52%       â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  LLM Tokens      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 523,456 / 1,000,000  52%      â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Images          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘     312 / 500       62%       â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Voice Minutes   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘     245 / 500       49%       â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  USAGE BY AGENT                                                     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  AGENT           API CALLS    TOKENS     IMAGES    VOICE    COST   â”‚   â”‚
â”‚  â”‚  Support-AI      23,456       245K       156       120m     $156    â”‚   â”‚
â”‚  â”‚  Sales-Bot       18,234       178K       98        80m      $124    â”‚   â”‚
â”‚  â”‚  Internal-AI     10,655       100K       58        45m      $89     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ESTIMATED COST THIS PERIOD                                         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚   Base Subscription:    $99.00                                      â”‚   â”‚
â”‚  â”‚   LLM Usage:            $156.78                                     â”‚   â”‚
â”‚  â”‚   Image Generation:     $12.48                                      â”‚   â”‚
â”‚  â”‚   Voice Minutes:        $24.50                                      â”‚   â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚   â”‚
â”‚  â”‚   ESTIMATED TOTAL:      $292.76                                     â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Data Requirements

| Field | Source | Type |
|-------|--------|------|
| `quotas[]` | API | Array |
| `quotas[].name` | API | String |
| `quotas[].used` | API | Number |
| `quotas[].limit` | API | Number |
| `agent_usage[]` | API | Array |
| `cost_breakdown` | API | Object |
| `billing_period` | API | Object |

---

### 3.2 Agent Configuration

**Route:** `/settings/models`

#### Wireframe
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Settings > Models                                      [Save]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  CHAT MODEL (Primary)                                               â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Provider:    [OpenAI          â–¼]                                   â”‚   â”‚
â”‚  â”‚  Model:       [GPT-4o          â–¼]                                   â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â„¹ï¸ Vision: âœ“  Context: 128K  Cost: $5/1M input, $15/1M output     â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  [â–¼ Advanced Settings]                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Temperature:     [0.7      ]                               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Context Length:  [128000   ]                               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Context History: [70       ] %                             â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  UTILITY MODEL (Background Tasks)                                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Provider:    [OpenAI          â–¼]                                   â”‚   â”‚
â”‚  â”‚  Model:       [GPT-4o-mini     â–¼]                                   â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â„¹ï¸ Cost-effective for summarization, extraction                   â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  EMBEDDING MODEL (Memory Search)                                    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Provider:    [HuggingFace     â–¼]                                   â”‚   â”‚
â”‚  â”‚  Model:       [all-MiniLM-L6-v2â–¼]                                   â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â„¹ï¸ Local model, no API cost                                       â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Form Validation

| Field | Rule | Error |
|-------|------|-------|
| `chat_model_provider` | Required | "Provider is required" |
| `chat_model_name` | Required | "Model is required" |
| `temperature` | 0-2 | "Temperature must be 0-2" |
| `ctx_length` | > 0 | "Context length must be positive" |

---

## 4. Agent User Screens

### 4.1 Multimodal Settings

**Route:** `/settings/multimodal`

#### Wireframe
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Settings > Multimodal                                  [Save]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  IMAGE GENERATION                                                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  [âœ“] Enable Image Generation                                        â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Provider:  [DALLE 3 â–¼]                                             â”‚   â”‚
â”‚  â”‚  Quality:   [Standard â–¼]  (HD costs 2x)                             â”‚   â”‚
â”‚  â”‚  Style:     [Vivid    â–¼]                                            â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Monthly Usage: 312 / 500 images (62%)                              â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  DIAGRAM GENERATION                                                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  [âœ“] Enable Diagram Generation                                      â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Provider:  [Mermaid â–¼] (Local - Free)                              â”‚   â”‚
â”‚  â”‚  Format:    [SVG â–¼]                                                 â”‚   â”‚
â”‚  â”‚  Theme:     [Default â–¼]                                             â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  VISION (Image Understanding)                                       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  [âœ“] Enable Vision for Chat                                         â”‚   â”‚
â”‚  â”‚  [âœ“] Enable Vision for Browser                                      â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â„¹ï¸ Allows agent to understand images in conversations             â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Common UI Patterns

### 5.1 Confirmation Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Confirm Action                                        [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âš ï¸ Are you sure you want to delete this rate limit?       â”‚
â”‚                                                             â”‚
â”‚  This action cannot be undone.                              â”‚
â”‚                                                             â”‚
â”‚                              [Cancel]  [Delete]             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Toast Notifications

```
Success:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ“ Rate limit updated successfully       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Error:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ— Failed to update rate limit           â”‚
â”‚    Try again or contact support.         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 Empty State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚                     ğŸ“‹                                      â”‚
â”‚                                                             â”‚
â”‚              No rate limits configured                      â”‚
â”‚                                                             â”‚
â”‚              [+ Add Rate Limit]                             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 Permission Denied

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚                     ğŸ”’                                      â”‚
â”‚                                                             â”‚
â”‚              You don't have permission                      â”‚
â”‚              to access this page                            â”‚
â”‚                                                             â”‚
â”‚              Required: infra:configure                      â”‚
â”‚                                                             â”‚
â”‚              [Go Back]  [Request Access]                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Responsive Breakpoints

| Breakpoint | Width | Layout |
|------------|-------|--------|
| Mobile | < 768px | Single column, stacked cards |
| Tablet | 768-1024px | 2 column grid |
| Desktop | > 1024px | Full layout, side nav |

---

## 7. Accessibility Requirements

| Requirement | Implementation |
|-------------|----------------|
| Keyboard navigation | All interactive elements focusable |
| Screen reader | ARIA labels on all actions |
| Color contrast | WCAG AA minimum |
| Focus indicators | Visible focus rings |
| Error announcements | Live regions for errors |

---

## 8. Animation Guidelines

| Animation | Duration | Easing |
|-----------|----------|--------|
| Modal open | 200ms | ease-out |
| Modal close | 150ms | ease-in |
| Toast slide | 300ms | ease-out |
| Card hover | 150ms | ease |
| Loading skeleton | 1.5s | linear (loop) |
# SRS: UI Component Catalog (Atomic Library)

**Document ID:** SA01-SRS-UI-CATALOG-2026-01
**Status:** ğŸ”´ DRAFT
**Architecture:** Visual LIT 3 (Shadow DOM + `tokens.css`)
**Authors:** 10-Persona Collective

> **PURPOSE:** This document defines the **Atomic Building Blocks** of the SaaS Admin Interface. It explains **WHAT** exists, **WHY** it exists, and **HOW** to use it. All operational screens must be assembled from these components.

---

## 1. Governance
- **Base Class:** All components extend `LitElement`.
- **Styling:** STRICT adherence to `tokens.css` (CSS Variables).
- **Encapsulation:** Shadow DOM `mode: 'open'`.
- **Registry:** All components are registered in `webui/src/components/index.ts`.

---

## 2. Atoms (Primitives)
*Indivisible UI elements. The base styling integration points.*

### 2.1 `saas-button`
- **Why:** Standardizes click targets, loading states, and focus capability.
- **Variants:**
    - `primary` (Black/Accent) - Main actions.
    - `secondary` (Gray) - Cancel/Back.
    - `outline` (Border) - Low priority.
    - `danger` (Red) - Destructive.
    - `ghost` (Transparent) - Icon-only buttons.
- **Props:** `variant`, `size`, `loading`, `disabled`.
- **Usage:**
  ```html
  <saas-button variant="primary" ?loading=${this.saving} @click=${this.save}>
    Save Changes
  </saas-button>
  ```

### 2.2 `saas-input`
- **Why:** Enforces accessibility (labels, ARIA) and validation visuals globally.
- **Features:** Floating labels, error message slot, helper text, icon prefix.
- **Usage:**
  ```html
  <saas-input label="Email Address" type="email" error="Invalid format"></saas-input>
  ```

### 2.3 `saas-badge`
- **Why:** Provides semantic status indicators for grids and headers.
- **Variants:** `success` (Green), `warning` (Orange), `danger` (Red), `info` (Blue), `neutral` (Gray).
- **Usage:**
  ```html
  <saas-badge status="success">Active</saas-badge>
  ```

### 2.4 `saas-toggle`
- **Why:** Standard "Switch" control for boolean settings (Feature Flags).
- **Style:** iOS-style sliding pill.
- **Usage:**
  ```html
  <saas-toggle label="Enable Magic Auth" .checked=${true}></saas-toggle>
  ```

---

## 3. Molecules (Composites)
*Functional groups of atoms.*

### 3.1 `saas-toast`
- **Why:** Non-blocking feedback for async actions.
- **Behavior:** Auto-dismiss after 3s. Stackable.
- **Usage:** Dispatched via global event `show-toast`.

### 3.2 `saas-search-input`
- **Why:** Standardized search experience with debounce and clear functionality.
- **Composition:** `saas-input` + Search Icon + Clear Button.
- **Event:** `search` (debounced).

### 3.3 `saas-stats-card`
- **Why:** Dashboard KPI display.
- **Visuals:** Glassmorphism background.
- **Slots:** Icon, Title, Value, Trend.
- **Usage:**
  ```html
  <saas-stats-card title="MRR" value="$50,200" trend="+12%" trend-dir="up"></saas-stats-card>
  ```

---

## 4. Organisms (Complex Structures)
*Complete operational sections.*

### 4.1 `saas-wizard`
- **Why:** Multi-step flows (System Config, Tenant Creation) need state management.
- **Features:** Progress bar, step validation, "Next/Back" navigation.
- **Location:** Used in `/platform/setup/config`.

### 4.2 `saas-data-table`
- **Why:** The workhorse of the admin panel. Handles millions of rows.
- **Features:** Server-side pagination, Column Sorting, Row Selection, Action Menu.
- **Usage:**
  ```html
  <saas-data-table 
    .columns=${this.columns} 
    .data=${this.tenants} 
    @page-change=${this.loadPage}
  ></saas-data-table>
  ```

### 4.3 `saas-shell`
- **Why:** The "App" container. Enforces the layout structure.
- **Features:** Collapsible Sidebar, Sticky Header, Main Content Slot.
- **Visuals:** Grid layout.

---

## 5. Templates (Views)
*How components fit into Routes.*

1.  **Dashboard Layout:** `saas-shell` > `saas-stats-card` + `saas-data-table`
2.  **Form Layout:** `saas-shell` > `saas-card` > `saas-wizard`
3.  **Detail Layout:** `saas-shell` > `saas-header` (with tabs) > Content

---

**Execution:**
This catalog is the **Bill of Materials** for Phase 1. We build these first.
# SRS: UI Component Architecture & Permission Patterns

**Document ID:** SA01-SRS-UI-ARCHITECTURE-2025-12-25
**Purpose:** Define reusable UI patterns that reduce code bloat while preserving full permission granularity
**Status:** CANONICAL REFERENCE

---

## 1. Core Principle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PERMISSIONS: Full 78 granular permissions preserved (NO REDUCTION)        â”‚
â”‚  (tenant:create, tenant:delete, agent:configure, infra:ratelimit:edit)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ROLES: Combine permissions into reusable groups (convenience layer)       â”‚
â”‚  (SysAdmin = all, TenantAdmin = tenant:*, AgentUser = agent:chat)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI COMPONENTS: Generic, data-driven, permission-aware                     â”‚
â”‚  (EntityManager checks user permissions dynamically before showing actions)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Result**: 66 screens â†’ ~15 generic components
**Granularity**: 78 permissions fully preserved

---

## 2. Pattern 1: Generic Entity Manager

One component handles CRUD for ANY entity type:

```typescript
@customElement('entity-manager')
export class EntityManager extends LitElement {
  @property() entity: 'tenant' | 'agent' | 'user' | 'feature' | 'ratelimit';
  @property() apiBase: string;
  @property() columns: ColumnDef[];
  @property() permissions: string[];  // User's actual permissions
  
  render() {
    return html`
      <div class="entity-header">
        <h1>${this.entity}s</h1>
        <!-- Only show Create if user has permission -->
        ${this.hasPermission(`${this.entity}:create`) ? html`
          <button @click=${this.openCreate}>+ Create</button>
        ` : nothing}
      </div>
      
      <data-table
        .data=${this.items}
        .columns=${this.columns}
        .actions=${this.getAvailableActions()}
      />
    `;
  }
  
  private getAvailableActions(): Action[] {
    const actions: Action[] = [];
    if (this.hasPermission(`${this.entity}:view`)) actions.push({ icon: 'visibility', handler: this.view });
    if (this.hasPermission(`${this.entity}:edit`)) actions.push({ icon: 'edit', handler: this.edit });
    if (this.hasPermission(`${this.entity}:delete`)) actions.push({ icon: 'delete', handler: this.delete });
    return actions;
  }
  
  private hasPermission(perm: string): boolean {
    return this.permissions.includes(perm) || this.permissions.includes('*');
  }
}
```

**Usage:**
```html
<entity-manager
  entity="tenant"
  api-base="/api/v2/saas"
  :columns="tenantColumns"
  :permissions="currentUser.permissions"
/>
```

---

## 3. Pattern 2: Settings Inheritance Tree

Three-level settings with cascading overrides:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLATFORM DEFAULTS (God Layer)                                              â”‚
â”‚  â””â”€â”€ max_agents: 10                                                         â”‚
â”‚  â””â”€â”€ max_voice_minutes: 60                                                  â”‚
â”‚  â””â”€â”€ default_llm: gpt-4o                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TENANT OVERRIDES (Tier-based or custom)                                    â”‚
â”‚  â””â”€â”€ max_agents: 50  (inherits rest from Platform)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AGENT OVERRIDES (Per-agent customization)                                  â”‚
â”‚  â””â”€â”€ default_llm: claude-3.5  (inherits rest from Tenant)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Django Model:**
```python
class Setting(models.Model):
    key = models.CharField(max_length=100)
    value = models.JSONField()
    level = models.CharField(choices=['PLATFORM', 'TENANT', 'AGENT'])
    platform = models.ForeignKey('Platform', null=True)
    tenant = models.ForeignKey('Tenant', null=True)
    agent = models.ForeignKey('Agent', null=True)
    
    class Meta:
        unique_together = ['key', 'level', 'platform', 'tenant', 'agent']

def get_effective_setting(key: str, agent_id: UUID) -> Any:
    """Cascade: Agent â†’ Tenant â†’ Platform â†’ Default"""
    agent = Agent.objects.get(id=agent_id)
    
    # Try agent-level
    if (s := Setting.objects.filter(key=key, agent=agent).first()):
        return s.value
    
    # Try tenant-level
    if (s := Setting.objects.filter(key=key, tenant=agent.tenant).first()):
        return s.value
    
    # Platform default
    if (s := Setting.objects.filter(key=key, level='PLATFORM').first()):
        return s.value
    
    return DEFAULTS.get(key)
```

---

## 4. Pattern 3: Dynamic Form Builder

Forms generated from JSON Schema (no hardcoded forms):

```typescript
@customElement('settings-form')
export class SettingsForm extends LitElement {
  @property() schemaUrl: string;  // e.g., /api/v2/schemas/postgresql
  @property() values: Record<string, any>;
  @property() permissions: string[];
  
  @state() schema: JSONSchema;
  
  async connectedCallback() {
    this.schema = await fetch(this.schemaUrl).then(r => r.json());
  }
  
  render() {
    return html`
      <form @submit=${this.save}>
        ${this.schema.properties.map(prop => this.renderField(prop))}
        
        ${this.hasPermission('settings:write') ? html`
          <button type="submit">Save</button>
        ` : html`
          <p class="read-only-notice">View only</p>
        `}
      </form>
    `;
  }
  
  private renderField(prop: SchemaProperty) {
    switch(prop.type) {
      case 'string': return html`<input-text .field=${prop} .value=${this.values[prop.key]}/>`;
      case 'number': return html`<input-number .field=${prop} .value=${this.values[prop.key]}/>`;
      case 'boolean': return html`<input-toggle .field=${prop} .value=${this.values[prop.key]}/>`;
      case 'enum': return html`<input-select .field=${prop} .value=${this.values[prop.key]}/>`;
    }
  }
}
```

**Backend Schema API:**
```python
@router.get("/schemas/{entity}")
def get_schema(entity: str) -> dict:
    """Return JSON Schema from Django model introspection."""
    model = apps.get_model('admin.core', entity.title())
    return model_to_json_schema(model)
```

---

## 5. Pattern 4: Tab-Based Composition

One route, multiple views via tabs:

```typescript
// Instead of 5 routes:
// /platform/infrastructure/database
// /platform/infrastructure/redis
// /platform/infrastructure/temporal
// /platform/infrastructure/health
// /platform/infrastructure/degradation

// One route with tabs:
@customElement('infrastructure-dashboard')
export class InfrastructureDashboard extends LitElement {
  @state() activeTab: 'health' | 'ratelimits' | 'degradation' = 'health';
  
  render() {
    return html`
      <tab-bar .active=${this.activeTab} @change=${(e) => this.activeTab = e.detail}>
        <tab name="health">Service Health</tab>
        <tab name="ratelimits">Rate Limits</tab>
        <tab name="degradation">Degradation Mode</tab>
      </tab-bar>
      
      ${this.activeTab === 'health' ? this.renderHealth() : nothing}
      ${this.activeTab === 'ratelimits' ? this.renderRateLimits() : nothing}
      ${this.activeTab === 'degradation' ? this.renderDegradation() : nothing}
    `;
  }
}
```

**Benefit**: 5 routes â†’ 1 route, 5 components â†’ 1 component with 3 render methods

---

## 6. Pattern 5: Permission-Aware Action Menus

Generic action menu that filters based on permissions:

```typescript
@customElement('action-menu')
export class ActionMenu extends LitElement {
  @property() entity: string;
  @property() entityId: string;
  @property() permissions: string[];
  
  private actions = [
    { key: 'view', icon: 'visibility', label: 'View', permission: ':view' },
    { key: 'edit', icon: 'edit', label: 'Edit', permission: ':edit' },
    { key: 'duplicate', icon: 'content_copy', label: 'Duplicate', permission: ':create' },
    { key: 'delete', icon: 'delete', label: 'Delete', permission: ':delete', danger: true },
    { key: 'suspend', icon: 'pause', label: 'Suspend', permission: ':suspend' },
    { key: 'impersonate', icon: 'person', label: 'Impersonate', permission: ':impersonate' },
  ];
  
  render() {
    const available = this.actions.filter(a => 
      this.permissions.includes(`${this.entity}${a.permission}`)
    );
    
    return html`
      <dropdown-menu>
        ${available.map(a => html`
          <menu-item 
            icon=${a.icon} 
            ?danger=${a.danger}
            @click=${() => this.emit(a.key)}
          >${a.label}</menu-item>
        `)}
      </dropdown-menu>
    `;
  }
}
```

---

## 7. Permission Hierarchy (Preserved Granularity)

```
PLATFORM PERMISSIONS (28)
â”œâ”€â”€ platform:manage           # Full platform control
â”œâ”€â”€ tenant:list               # List all tenants
â”œâ”€â”€ tenant:view               # View tenant details
â”œâ”€â”€ tenant:create             # Create new tenant
â”œâ”€â”€ tenant:edit               # Edit tenant settings
â”œâ”€â”€ tenant:delete             # Delete tenant
â”œâ”€â”€ tenant:suspend            # Suspend tenant
â”œâ”€â”€ tenant:impersonate        # Act as tenant admin
â”œâ”€â”€ tier:list                 # List subscription tiers
â”œâ”€â”€ tier:create               # Create tier
â”œâ”€â”€ tier:edit                 # Modify tier limits
â”œâ”€â”€ tier:delete               # Remove tier
â”œâ”€â”€ billing:view              # View platform revenue
â”œâ”€â”€ billing:refund            # Issue refunds
â”œâ”€â”€ infra:health:view         # View service health
â”œâ”€â”€ infra:ratelimit:view      # View rate limits
â”œâ”€â”€ infra:ratelimit:edit      # Modify rate limits
â”œâ”€â”€ infra:degradation:view    # View degradation status
â”œâ”€â”€ infra:degradation:control # Start/stop monitoring
â”œâ”€â”€ role:list                 # List roles
â”œâ”€â”€ role:create               # Create roles
â”œâ”€â”€ role:edit                 # Modify roles
â”œâ”€â”€ role:delete               # Delete roles
â”œâ”€â”€ permission:view           # Browse SpiceDB
â”œâ”€â”€ audit:view                # View all audit logs
â”œâ”€â”€ feature:manage            # Enable/disable features
â”œâ”€â”€ mcp:manage                # MCP server registry
â””â”€â”€ secret:manage             # Platform secrets

TENANT PERMISSIONS (25)
â”œâ”€â”€ tenant:settings           # Tenant settings
â”œâ”€â”€ user:list                 # List tenant users
â”œâ”€â”€ user:invite               # Invite users
â”œâ”€â”€ user:edit                 # Edit user roles
â”œâ”€â”€ user:remove               # Remove users
â”œâ”€â”€ agent:list                # List agents
â”œâ”€â”€ agent:create              # Create agent
â”œâ”€â”€ agent:edit                # Configure agent
â”œâ”€â”€ agent:delete              # Delete agent
â”œâ”€â”€ usage:view                # View usage metrics
â”œâ”€â”€ billing:view              # View invoices
â”œâ”€â”€ billing:pay               # Make payments
â”œâ”€â”€ apikey:list               # List API keys
â”œâ”€â”€ apikey:create             # Generate keys
â”œâ”€â”€ apikey:revoke             # Revoke keys
â”œâ”€â”€ integration:list          # List integrations
â”œâ”€â”€ integration:enable        # Enable integrations
â”œâ”€â”€ integration:configure     # Configure integrations
â”œâ”€â”€ audit:view                # Tenant audit log
â”œâ”€â”€ role:list                 # Tenant roles
â”œâ”€â”€ role:assign               # Assign roles
â”œâ”€â”€ webhook:manage            # Webhook configuration
â”œâ”€â”€ export:data               # Export tenant data
â”œâ”€â”€ mcp:enable                # Enable MCP servers
â””â”€â”€ voice:configure           # Voice settings

AGENT PERMISSIONS (25)
â”œâ”€â”€ agent:chat                # Use chat
â”œâ”€â”€ agent:voice               # Use voice
â”œâ”€â”€ agent:memory:read         # Read memories
â”œâ”€â”€ agent:memory:write        # Create memories
â”œâ”€â”€ agent:memory:delete       # Delete memories
â”œâ”€â”€ agent:tool:use            # Use approved tools
â”œâ”€â”€ agent:tool:configure      # Configure tool access
â”œâ”€â”€ agent:settings:view       # View settings
â”œâ”€â”€ agent:settings:edit       # Edit settings
â”œâ”€â”€ agent:model:select        # Choose LLM model
â”œâ”€â”€ agent:persona:edit        # Edit persona
â”œâ”€â”€ agent:context:manage      # Manage context
â”œâ”€â”€ agent:file:upload         # Upload files
â”œâ”€â”€ agent:file:delete         # Delete files
â”œâ”€â”€ agent:image:generate      # Generate images
â”œâ”€â”€ agent:screenshot:capture  # Screen capture
â”œâ”€â”€ agent:diagram:generate    # Generate diagrams
â”œâ”€â”€ agent:code:execute        # Run code
â”œâ”€â”€ agent:web:browse          # Web browsing
â”œâ”€â”€ agent:api:call            # External APIs
â”œâ”€â”€ agent:share               # Share conversations
â”œâ”€â”€ agent:export              # Export data
â”œâ”€â”€ dev:console               # Developer console
â”œâ”€â”€ dev:metrics               # Dev metrics
â””â”€â”€ trn:cognitive             # Trainer mode
```

**Total: 78 permissions** â†’ All preserved, UI components just filter based on user's granted permissions.

---

## 8. Implementation Priority

| Phase | Pattern | Components |
|-------|---------|------------|
| **P0** | Tab Composition | âœ… Done (Infrastructure Dashboard) |
| **P1** | Entity Manager | `<entity-manager>` for CRUD screens |
| **P2** | Settings Form | `<settings-form>` with JSON Schema |
| **P3** | Action Menu | `<action-menu>` permission-aware |
| **P4** | Settings Cascade | Django model + API |

---

*Document created: December 25, 2025*
*Maintains full 78-permission granularity while reducing UI code through reusable patterns*
