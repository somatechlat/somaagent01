#===============================================================================
# SOMA Stack - Required Environment Variables
# CRITICAL: ALL variables below are REQUIRED unless marked [OPTIONAL]
#
# Security Audit 2026-01-02: Zero hardcoded defaults policy
# Services will FAIL with clear error messages if these are not set
#===============================================================================

#-------------------------------------------------------------------------------
# DATABASE (PostgreSQL)
#-------------------------------------------------------------------------------
SA01_DB_DSN=postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/somaagent

# Database credentials (FETCH FROM VAULT - DO NOT HARDCODE)
POSTGRES_PASSWORD=

#-------------------------------------------------------------------------------
# CACHE & MESSAGING
#-------------------------------------------------------------------------------
SA01_REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
SA01_KAFKA_BOOTSTRAP_SERVERS=kafka:9092

# Redis credentials (FETCH FROM VAULT)
REDIS_PASSWORD=

#-------------------------------------------------------------------------------
# SERVICE DISCOVERY (Use container/service names, NOT localhost)
#-------------------------------------------------------------------------------
SA01_SOMA_BASE_URL=http://somabrain:9696
SA01_OPA_URL=http://opa:8181
SA01_KEYCLOAK_URL=http://keycloak:8080

#-------------------------------------------------------------------------------
# KEYCLOAK SSO
#-------------------------------------------------------------------------------
SA01_KEYCLOAK_REALM=somaagent
SA01_KEYCLOAK_CLIENT_ID=somaagent-api
SA01_KEYCLOAK_CLIENT_SECRET=  # FETCH FROM VAULT
SA01_KEYCLOAK_PUBLIC_KEY=     # FETCH FROM VAULT

#-------------------------------------------------------------------------------
# DJANGO
#-------------------------------------------------------------------------------
DJANGO_SETTINGS_MODULE=services.gateway.settings
SECRET_KEY=  # FETCH FROM VAULT - minimum 50 random characters
DEBUG=False  # NEVER True in production

#-------------------------------------------------------------------------------
# TEMPORAL [OPTIONAL - has fallbacks]
#-------------------------------------------------------------------------------
SA01_TEMPORAL_HOST=temporal:7233
SA01_TEMPORAL_NAMESPACE=default

#-------------------------------------------------------------------------------
# SAAS CONFIGURATION
#-------------------------------------------------------------------------------
SAAS_DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000001
SAAS_DEFAULT_CHAT_MODEL=  # Required - e.g., "openai/gpt-4-turbo"

#-------------------------------------------------------------------------------
# FEATURE FLAGS [OPTIONAL]
#-------------------------------------------------------------------------------
SA01_FEATURE_PROFILE=default
SA01_AUTH_REQUIRED=false

#===============================================================================
# VALIDATION
# Run: python scripts/validate_env.py
# All variables marked as REQUIRED must be set before starting services
#===============================================================================
