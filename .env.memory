# Memory configuration for 15GB development environment
# This file defines optimal memory limits for containers

# Kafka
KAFKA_HEAP_OPTS=-Xms512m -Xmx1g
KAFKA_MEM_LIMIT=2048m
KAFKA_MEM_RESERVATION=512m

# Redis
REDIS_MEM_LIMIT=512m
REDIS_MEM_RESERVATION=256m

# PostgreSQL
POSTGRES_MEM_LIMIT=1536m
POSTGRES_MEM_RESERVATION=512m
POSTGRES_SHARED_BUFFERS=256MB

# Agent Services – tuned for a 10 GB total dev host while keeping production‑style limits
GATEWAY_MEM_LIMIT=2048m
GATEWAY_MEM_RESERVATION=768m

CONVERSATION_WORKER_MEM_LIMIT=768m
CONVERSATION_WORKER_MEM_RESERVATION=192m

TOOL_EXECUTOR_MEM_LIMIT=768m
TOOL_EXECUTOR_MEM_RESERVATION=192m

MEMORY_REPLICATOR_MEM_LIMIT=384m
MEMORY_REPLICATOR_MEM_RESERVATION=96m

MEMORY_SYNC_MEM_LIMIT=384m
MEMORY_SYNC_MEM_RESERVATION=96m

OUTBOX_SYNC_MEM_LIMIT=384m
OUTBOX_SYNC_MEM_RESERVATION=96m

# JVM Options for development
JAVA_OPTS=-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0