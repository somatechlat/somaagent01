// Import the component loader and page utilities
import { importComponent } from "i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_components_js')";
import { handleError, createErrorBoundary } from "i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_error_handling_js')";

// Create error boundary for modal system
const modalErrorBoundary = createErrorBoundary('ModalSystem', (errorData) => {
  // Return fallback modal UI
  const fallbackModal = document.createElement('div');
  fallbackModal.className = 'modal-erroi18n.t('ui_times')ack';
  fallbackModal.innerHTML = `
    <div class="i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_modal_error_content')">
      <h3>Modal Error</h3>
      <p>${errorDi18n.t('ui_setup_close_button_handler_with_proper_evi18n.t('ui_i18n_t_ui_i18n_t_ui_components_js')wmodal_queryselector_modal_close_close_button_addeventlistener_i18n.t('ui_i18n_t_ui_i18n_t_ui_error_handling_js')toppropagation_closemodal_add_modal_to_dom_document_body_appendchild_newmodal_initialize_modal_si18n.t('ui_modalsystem')modaldata_element_newmodal_title_newmodal_queryselector_modal_title_body_i18n.t('ui_i18n_t_ui_compi18n.t('ui_div')nts_js')al_bd_close_close_button_i18n.t('ui_modal_erroi18n_t')open_true_i18n.t('ui_ack')tedat_di18n.t('ui_i18n_t_ui_error_handling_js')al_with_pri18n.t('ui_i18n_t_ui_i18n_t_ui_modal_error_content')dal_classlist_add_show_newmodal_style_opaciti18n.t('ui_moi18n.t('ui_setup_close_button_handler_with_proper_event_prevention_const_close_button_newmodal_queryselector_modal_close_close_button_addeventlistener_click_event_event_preventdefault_event_stoppropagation_closemodal_add_modal_to_dom_document_body_appendchild_newmodal_initialize_modal_state_const_modaldata_element_newmodal_title_newmodal_queryselector_modal_title_body_i18n_t')18n.t('ui_setup_close_buttoni18n.t('ui_al_bd_close_close_button_styles_scripts_isopen_true_createdat_di18n_t')selector_modal_close_close_buttoi18n.t('ui_al_with_proper_animation_requestanimationframe_newmodal_classlist_add_show_newmodal_style_opaciti18n_t')cument_body_appei18n.t('ui_l_style_transform_scale_0_9i18n_t')tate_const_modaldata_element_newmodal_title_newmodal_queryselector_modali18n.t('ui_div')_body_newmodal_queryselector_modal_bd_closei18n.t('ui_modal_erroi18n_t')s_scripts_isopen_trui18n.t('ui_ack')tedat_date_now_name_name_i18n.t('ui_out_if_modalstack_includes_modaldi18n_t')estanimationframe_newmodal_classlii18n.t('ui_modal_error')modal_style_opacity_0_newmodal_style_transform_scali18n.t('ui_setup_close_button_handler_with_proper_event_prevention_const_close_button_newmodal_queryselector_modal_close_close_button_addeventlistener_click_event_event_preventdefault_event_stoppropagation_closemodal_add_modal_to_dom_document_body_appendchild_newmodal_initialize_modal_state_const_modaldata_element_newmodal_title_newmodal_queryselector_modal_title_body_newmodal_queryselector_modal_bd_close_close_button_styles_scripts_isopen_true_createdat_date_now_name_name_show_the_modal_with_proper_animation_requestanimationframe_newmodal_classlist_add_show_newmodal_style_opacity_0_newmodal_style_transform_scale_0_9i18n_t')ent_document_activeelement_if_activeelement_activeelement_setattribute_data_last_focused_true_create_new_modal_instance_with_name_const_modalname_options_name_modali18n.t('ui_out_if_modalstack_includes_modaldata_newmodal_focus_100_ri18n_t')p_mutation_observer_for_moi18n.t('ui_data_catch_error_consoleii18n.t('ui_return_fallback_modal_ui_const_fallbackmodal_document_createelement_div_fallbackmodal_classname_modal_erroi18n_t_ui_times_ack_fallbackmodal_innerhtml')alerrorboundary_wrapasync_async_function_modalpath_optii18n_t')nner_modal_elei18n.t('ui_modal_error')i_store_the_currently_focused_element_for_later_restoration_const_activeelement_document_activeelement_if_activeelement_activeelement_setattribute_data_last_focused_true_create_new_modal_instance_with_name_const_modalname_options_name_modalpath_modal_date_now_const_modal_createmodalelement_modalname_set_up_mutation_observer_for_modal_removal_detection_const_observer_new_mutationobserver_obs_if_document_contains_modal_element_obs_disconnect_resolve_observer_observe_document_body_childlist_true_subtree_true_set_loading_state_with_better_ux_modal_body_innerhtml')odalpath_startswith_modalpath_slice_1_modalpath_load_modal_content_with_proper_error_handling_and_timing_importcomponent_componenti18n.t('ui_loading_modalpath')_doc_try_set_the_title_from_the_document_with_fai18n.t('ui_add_modal_to_stack_immediately_for_proper_state_management_modalstack_push_modal_handle_body_overflow_for_proper_modal_behavior_if_modalstack_length_1_const_scrollbarwidth_window_innerwidth_document_documentelement_clientwidth_document_body_style_overflow_hidden_document_body_style_paddingright_scrollbarwidth_px_use_importcomponent_to_load_the_modal_content_with_enhanced_error_handling_const_componentpath_modalpath_startswith_modalpath_slice_1_modalpath_load_modal_content_with_proper_error_handling_and_timing_importcomponent_componentpath_modal_body_then_doc_try_set_the_title_from_the_document_with_fallback_modal_title_innerhtml_doc_doc_title_modalpath_apply_css_classes_from_document_if_available_if_doc_doc_html_doc_html_classlist_const_inner_modal_element_queryselector_modal_inner_if_inner_inner_classlist_add_array_from_doc_html_classlist_if_doc_doc_body_doc_body_classlist_modal_body_classlist_add_array_from_doc_body_classlist_trigger_modal_ready_event_modal_element_dispatchevent_new_customevent_modalready_detail_modal_path_modalpath_focus_management_for_accessibility_settimeout_if_modal_element_document_contains_modal_element_modal_element_focus_move_focus_to_first_focusable_element_if_available_const_firstfocusable_modal_element_queryselector_button_href_input_select_textarea_tabindex_not_tabindex_1_if_firstfocusable_firstfocusable_focus_100_catch_rendererror_console_error_error_rendering_modal_content_rendererror_modal_body_innerhtml')ith_propei18n.t('ui_i18n_t')andling_and_timing_importcomponent_componentpath_modi18n_t_ui_retry_ti18n.t('ui_rendering_error')e_title_from_the_document_with_fallback_modal_title_innerhtml_doc_doc_i18n.t('ui_failed_to_render_modal_content_rendererror_message')i18n_t_ui_i18n_t_ilable_if_doc_i18n_t_ui_i18n_t_doc_html_clai18n.t('ui_catch_error_console_error_error_loading_modal_content_error_modal_body_innerhtml')('ui18n.t('ui_document_body_style_paddingright_scrollbarwidth_px_use_importcomponent_i18n_t')rom_doc_html_classi18n.t('ui_l_content_with_enhanced_error_handling_const_componentpathi18n_t')rray_from_doc_body_classlist_trigger_modal_readi18n.t('ui_path_load_modal_content_with_proper_error_handling_and_timing_importcomponent_componentpath_modi18n_t')_i18n_t_mei18n.t('ui_then_doc_try_set_the_title_from_the_document_with_fallback_modal_title_innerhtml_doc_doc_title_modalpath_api18n_t')ocus_to_firi18n.t('ui_lasses_from_documei18n_t')ailable_coni18n.t('ui_ilable_if_doc_i18n_t')l_element_qi18n.t('ui_doc_html_classlist_ci18n_t')ut_select_ti18n.t('ui_r_modal_element_qui18n_t')dex')"i18n.i18n.t('ui_or')ui_i18n_t_ui18n.t('ui_ii18n_t')t('ui_i18n_i18n.t('ui_modal_inner')tfocusable_i18n.t('ui_if_inner_inner_classlist_add_array_from_doc_html_classlist_if_doc_doc_body_doc_body_classlist_modal_body_classlist_add_array_from_doc_body_classlist_trigger_modal_ready_event_modal_element_dispatchevent_new_customevent_modalready_detail_modal_path_modalpath_foci18n_t')ing_error_ii18n.t('ui_ment_for_aci18n_t')s')"i18n.t(i18n.t('ui_ty_settimeout_if_modal_element_document_contains_modal_element_modal_element_focus_move_focus_to_first_focusable_element_if_available_const_firstfocusable_modal_element_queryselector_button_href_input_select_textarea_tabindex_not_tabindex')v_class')"ii18n.t('ui_i18n_t_ui_1')_t_ui_modali18n.t('ui_if_firstfocusable_firstfocusable_focus_100_catch_rendererror_console_error_error_rendering_modal_content_rendererror_modal_body_innerhtml_div_class')rror_messagi18n.t('ui_i18n_t_ui_modal_error')_failed_to_i18n.t('ui_div_class')ontent_erroi18n.t('ui_i18n_t_ui_error_title')ss')"i18n.t('i18n.t('ui_i18n_t')_ui_error_retry')"i18n.t('i18n.t('ui_i18n_t')_ui_i18i18n.t('ui_i18n_t')8n_t')"i18n.i18n.t('ui_i18n_i18n.t('ui_i18n_t')_openmodal_modalpath')"i18n.t('ui_i18n_t_ui_retry_button_div_reject_promise_if_modal_loadi18n.t('ui_i18n_t')_critically_if_options_rejectonerror_rejeci18n.t('ui_i18n_t')inally_i18n_t_ui_i18n_t_dal_z_indexes_reii18n.t('ui_i18n_t')i18n_t_of_load_outcomi18n_i18n.t('ui_i18n_t')_t_odalzindexei18n.t('ui_i18n_t')_t_ui_i18n_t_await_handleei18n.t('ui_i18n_t')r_component_i18n_t_ui_i18n_t_em_i18n.t('ui_i18n_t')openmoi18n_t_ui_i18n_t_path_i18n.t('ui_i18n_t')son_stringify_options_throw_error_enhanced_modal_close_function_i18n.t('ui_i18n_t')eri18n_t_ui_i18n_t_e_managi18n.t('ui_i18n_t')ort_functioni18n.t('ui_i18n_t')t_ui_i18n_t_odali18n.t('ui_i18n_t')_if_modalstack_length_0_retuii18n.t('ui_i18n_t')i18n_t_t_modalindex_modi18n_t_ui_i18n_t_ength_1_defauli18n_t_ui_i18n_t_modal_let_modali18n_t_ui_i18n_t_name_find_the_modal_wi18n.t('ui_i18n_t')pei18n_t_ui_i18n_t_me_in_ti18n.t('ui_i18n_t')moi18n_t_ui_i18n_t_modali18n.t('ui_i18n_t')dindex_modal_modal_name_moi18n.t('ui_i18n_t')f_modalindex_1_i18n_t_ui_i18n_t_dal_not_founi18n.t('ui_i18n_t')t_ui_i18n_t_t_the_modal_i18ni18n.t('ui_i18n_t')n_t_k_at_the_found_index_modi18n_t_ui_i18n_t_tack_modalindex_remove_the_modal_from_stack_modalstacki18n.t('ui_i18n_t')odalindex_1_else_just_remove_the_last_modai18n.t('ui_i18n_t')odalstack_pop_if_modal_modal_element_console_warn_ii18n.t('ui_i18n_t')dal_object_or_element_retui18n.t('ui_i18n_t')odal_as_closing_modal_isi18n.t('ui_i18n_t')e_remove_modal_specific_sti18n.t('ui_i18n_t')scripts_with_proper_cleanup_try_if_array_ii18n.t('ui_i18n_t')dal_styles_modal_styles_forei18n.t('ui_i18n_t')id_const_styleelement_document_queryselector_data_modal_style')"i18n.t('uii18n.t('ui_i18n_t')i_styleid')"i18n.t('ui_i18i18n.t('ui_i18n_t')_styleelement_styleelei18n.t('ui_i18n_t')ve_if_array_isarray_modal_scripts_i18n.t('ui_i18n_t')ipts_foreach_scriptid_const_scriptelement_document_queryselector_data_modal_script')"i18n.t('ui_i18n_t_ui_scriptid')"i18n.t('ui_i18n_t_ui_if_scriptelement_scriptelement_remove_catch_cleanuperror_console_warn_error_cleaning_up_modal_resources_cleanuperror_animate_modal_closure_modal_element_style_opacity')"0"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_modal_element_style_transform')"scale(0.9)"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_i18n.t('ui_i18n_t')l_element_classlist_rei18n.t('ui_i18n_t')ow"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_remove_the_modal_element_from_dom_after_animation_completes_const_removemodalelement_try_if_modal_element_modal_eli18n_i18n.t('ui_i18n_t')rn_fallback_modal_ui_coi18n.t('ui_i18n_t')n_t_ui_i18n_t_al_document_i18n_t_ui_i18n_t_ment_div_fallbackmodal_classname_modal_error_fallback_fallbackmodal_innerhtml_for_proper_animation_comi18n_t_ui_modal_error_st_ti18n.t('ui_0_i18n_t')ndler_event_ii18n_t_ui_ei18n_t_ui_i18n_t_usermessage_ci18n.t('ui_scale_0_9_i18n_t')ment_removeeventlistener_transitionend_transitionhandlei18n.t('ui_show_i18n_t')lemi18n_t_ui_close_odal_element_addeventlistener_transii18n_t_ui_document_body_appendchild_fallbaci18n_t_ui_0_i18n_t_rn_fallbackmodal_modal_functionality_with_imi18n_t_ui_scale_0_9_i18n_t_ci18n.t('ui_i18n_t')lstack_const_modalstati18n.t('ui_i18n_t')alizi18n_t_ui_show_i18n_t_emodalcount_0_backdropzindex_2999_basemodalzindex_3000_modalspacing_20_animationduration_300_create_a_single_backdrop_for_all_modals_with_improved_i18n.t('ui_i18n_t')dling_const_backdrop_doi18n.t('ui_i18n_t')eateelement_div_backdrop_classname_modal_backdrop_backdrop_style_display_none_backdrop_style_backdropfilter_blur_5px_backdrop_style_transition_opacity_modalstate_animationduration_mi18n.t('ui_0_i18n_t')drop_style_opacity_0_improved_backdrop_click_handling_i18n.t('ui_scale_0_9_i18n_t')elegation_backdrop_addeventlistener_click_event_if_eveni18n.t('ui_show_i18n_t')rop_closemodal_prevent_backdrop_clicks_from_bubbling_when_clicking_inside_modal_backdrop_addeventlistener_mousedown_event_if_event_target_backdrop_event_preventdefault_document_body_appendchild_backdrop_enhanced_z_index_management_with_proper_stacking_and_animation_function_updatemodalzindexes_const_basemodalzindex_modalspacing_backdropzindex_animationduration_modalstate_update_z_index_for_all_modals_with_proper_stacking_modalstack_foreach_modal_index_const_zindex_basemodalzindex_index_modalspacing_modal_element_style_zindex_zindex_add_transition_for_smooth_appearance_disappearance_if_modal_element_style_transition_modal_element_style_transition_transform_animationduration_ms_ease_opacity_animationduration_ms_ease_enhanced_backdrop_visibility_handling_with_animation_if_modalstack_length_0_backdrop_style_display_block_animate_backdrop_opacity_settimeout_backdrop_style_opacity_1_10_if_modalstack_length_1_for_multiple_modals_position_backdrop_between_the_top_two_const_topmodalindex_modalstack_length_1_const_previousmodalzindex_basemodalzindex_topmodalindex_1_modalspacing_backdrop_style_zindex_previousmodalzindex_modalspacing_2_else_for_single_modal_position_backdrop_below_it_backdrop_style_zindex_backdropzindex_else_animate_backdrop_fade_out_backdrop_style_opacity_0_hide_backdrop_after_animation_completes_settimeout_if_modalstack_length_0_backdrop_style_display_none_animationduration_modalstate_activemodalcount_modalstack_length_enhanced_modal_creation_with_proper_error_handling_and_lifecycle_management_function_createmodalelement_name_try_create_modal_element_with_proper_attributes_const_newmodal_document_createelement_div_newmodal_classname_modal_newmodal_modalname_name_modal_date_now_save_name_to_the_object_newmodal_setattribute_role_dialog_newmodal_setattribute_aria_modal_true_newmodal_setattribute_aria_labelledby_modal_title_name_newmodal_tabindex_1_make_focusable_add_enhanced_click_handler_with_proper_event_delegation_newmodal_addeventlistener_click_event_only_close_if_clicking_directly_on_the_modal_container_not_its_content_if_event_target_newmodal_closemodal_add_keyboard_event_handling_for_accessibility_newmodal_addeventlistener_keydown_event_if_event_key_escape_closemodal_create_enhanced_modal_structure_with_proper_accessibility_newmodal_innerhtml_s_with_improved_event_handling_const_backdrop_document_createelement')"i18n.t('ui_div')"i18n.t('ui_i18n_t_ui_i18n_t_ui_backdrop_classname')"i18n.t('ui_modal_backdrop')"i18n.t('ui_i18n_t_ui_i18n_t_ui_backdrop_style_display')"i18n.t('ui_none')"i18n.t('ui_i18n_t_ui_i18n_t_ui_backdrop_style_backdropfilter')"i18n.t('ui_blur_5px')"i18n.t('ui_i18n_t_ui_i18n_t_ui_backdrop_style_transition_opacity_modalstate_animationduration_ms_ease_backdrop_style_opacity')"0"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_improved_backdrop_click_handling_with_proper_event_delegation_backdrop_addeventlistener')"click"i18n.t('ui_i18n_t')i_i18n_ti18n.t('ui_i18n_t')t_ui_i18n_t_ui_event_if_event_tari18n.t('ui_i18n_t')rop_closemodal_previ18n.t('ui_i18n_t')rop_clicks_from_bubbling_when_clickini18n.t('ui_i18n_t')modal_baci18n.t('ui_i18n_t')eventlistener')"mousedown"i18n.t('ui_i18n_t_i18n.t('ui_i18n_t')_ui_i18n_t_uii18n.t('ui_i18n_t')_event_targi18n_t_ui_i18n_t_op_eventi18n_t_ui_i18n_t_efault_document_body_api18n_t_ui_i18n_t_backdrop_enhanci18n.t('ui_0_i18n_t')i_i18n_t_anagement_with_proper_stacki18n_t_ui_i18n_t_nimation_i18n_t_ui_i18n_t_updatemodalzindexes_const_basemodi18n.t('ui_click_i18n_t')_t_odalspacing_bi18n_t_ui_i18n_t_ndex_animationduration_modalstate_update_z_index_for_all_modals_with_proper_stacking_modalstack_foi18n_t_ui_0_i18n_t_index_ci18n.t('ui_mousedown_i18n_t')alzindex_index_modalspacing_modal_element_style_zini18n.t('ui_i18n_t')x_add_transitioi18i18n.t('ui_i18n_t')ick_i18n_t_pearance_disappearancei18n.t('ui_i18n_t')_element_style_transition_modi18n.t('ui_i18n_t')t_style_transition_transform_animatioi18n.t('ui_i18n_t')_ms_ease_opacity_ani18n.t('ui_i18n_t')ratii18n_t_ui_mousedown_i18n_t_backdrop_visii18n.t('ui_i18n_t')ndling_with_animation_ii18n.t('ui_i18n_t')ack_length_0_backdrop_style_display')"block"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_animate_backdrop_opaciti18n.t('ui_0_i18n_t')t_backdrop_style_opacity')"1"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_10_if_modalstack_length_1_for_multiple_modi18n.t('ui_click_i18n_t')ckdrop_between_the_top_two_const_topmodalindex_modalstack_length_1_const_previousmodalzindex_basemodalzindex_topmodalindex_1_modalspacing_backdrop_style_zindi18n.t('ui_mousedown_i18n_t')dex_modalspacing_2_else_for_single_modal_position_backdrop_below_it_backdrop_style_zindex_baci18n.t('ui_block_i18n_t')e_animate_backdrop_fade_out_backdrop_style_opacity')"0"i18n.t('ui_i18n_t_ui_i18n_t_i18n.t('ui_1_i18n_t')i_hide_backdrop_after_animation_completes_settimeout_if_modalstack_lengti18n_t_ui_block_i18n_t_yle_display')"none"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_animationduration_modali18n_t_ui_1_i18n_t_emodalcount_modalstack_length_enhanced_modal_creation_with_proper_error_handling_and_lifecycle_management_function_createmodalelement_name_try_create_modal_element_with_proper_attributes_const_newmodal_document_createeli18n.t('ui_0_i18n_t')"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_newmodal_classname')"modal"i18n.t('ui_i18n_t_ui_i18n_t_ui_i1i18n.t('ui_block_i18n_t')l_modalname_nai18n.t('ui_none_i18n_t')now_save_name_to_the_object_newmodal_setattribute_i18n_i18n.t('ui_1_i18n_t')_t_t_ui_i18n_t_ui_i18n_t_ui')"dialog"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_newmodal_setattribute')"aria-modal"i18n.t('ui_i18n_t_uii18n_t_ui_none_i18n_t_n_t_ui')"true"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_newmodal_setattrii18n.t('ui_div_i18n_t')abelledby"i18n.t('ui_i18n_t_ui_i18n_t_ui_i1i18n.t('ui_modal_i18n_t')itle_name_newmodal_tabindex_1_make_focusable_add_enhanced_click_handler_with_proper_event_delegation_newmodali18n.t('ui_i18n_t')tlistener')"ci18n.t('ui_t')k"i18n.t('ui_i18n_t_ui_ii18n.t('ui_dialog_i18n_t')_i18n_t_ui_event_only_close_if_clicking_di18n_i18n.t('ui_aria_modal_i18n_t')dal_containi18n.t('ui_none_i18n_t')tent_if_ei18n.t('ui_true_i18n_t')wmodal_closemodal_add_keyboard_event_handling_i18n.t('ui_aria_labelledby_i18n_t')newmodal_addei18n_t_ui_dialog_i18n_t_eydown')"i18n.t('ui_i18n_t_ui_i18n_t_ui18n.t('ui_aria_modal_i18n_t')')"i18n.t('ui_escape')"i18ni18n.t('ui_true_i18n_t')uii18n.t('ui_click_i18n_t')emodal_create_eni18n.t('ui_div_i18n_t')_aria_labelledby_i18n_t')proper_accessibilii18n.t('ui_modal_i18n_t')erhtml_div_class')"i18n.t('ui_modal_inner')"i18n.t('ui_i18n_t_ui_i18n_t_ui_div_class')"i18n.t('ui_modal_headei18n.t('ui_role_i18n_t')_i18n_t_ui_i18n_t_i18n.ti18n.t('ui_dialog_i18n_t')t')odal-title"i18i18n.t('ui_i18n_t_ui_i18n_t_ui18n_t')i18n_t_ui_id')"modal-titi18n.t('ui_escape_i18ni18n_t')i_i18n_t_ui_i18ni18n.t('ui_i18n_t_ui_closemodal_create_enhani18n_t')e"i18n.t('ui_i18n_t_ui_i18ni18n.t('ui_proper_accessibility_newmodal_innerhtml_div_class')i_i18n_t_ui_i18ni18n_t_i18n.t('ui_i18n_t_ui_i18n_t_ui_div_class')v_div_class')"modali18n.i18n.t('ui_i18n_t_ui_i18n_t_i18n_t')n_t_ui_i18n_t_ui_i18n.t('ui_odal_title_i18n_t')'ui_modal_bd')"i18n.t('ui_ii18n.t('ui_modal_title_name_i18n_t')v_setup_close_button_handlei18n.t('ui_moi18n.t('ui_modal_close_i18n_t')ention_const_close_bui18n.t('ui_modi18n.t('ui_close_modal_i18n_t')or')"i18n.t('ui_i18n.t('ui_keydown_i18n_t')18n.t('ui_modal_title_i18n_ti18n.t('ui_modali18n_t')e_buti18n.t('ui_moi18n.t('ui_i18n_t_ui_i18n_t_ui_div_class')_i18n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui_i18n_t_ui_div_div_div_setup_close_button_handlei18n_t')close_modal_i18n_t')dali18n.t('ui_revention_const_close_bui18n_t')d_newmi18n.t('ui_modal_si18n.t('ui_ector')i18n_t')state_const_modaldi18n.t('ui_modal_title_i18n_t')l_bd_i18n_t')le_newmodal_qui18n.t('ui_modal_title_name_i18n_t')odal_titlei18n.t('ui_i18n_t_ui_i18n_t_uii18n_t')t_ui_body_newmodal_queri18n.t('ui_efault_event_stoppropagati18n_t')"i18n.t('ui_ii18n.t('uii18n.t('ui_dal_to_dom_document_body_appendchild_newmi18n_t')ts_isopen_true_ci18n.t('i18n.t('ui_state_const_modaldata_eli18n_t')ow_the_modal_with_pri18n.t('ui_le_newmodal_queryselector')ationframe_newmodal_clasi18n.t('ui_i18n_t_ui_i18n_t_ui_body_newmodal_queryselector')_i18n_t_ui_newmodal_si18n.t('ui_ii18n_t')y')"0"i18n.t('ui_i18n_ti18n.t('ui_se_close_button_styles_scripts_isopen_true_ci18n_t')i_modal_title_i18i18n.t('ui_ow_name_name_show_the_modal_with_proper_animation_requestanimationframe_newmodal_classlist_add')ity')"1"i18n.t('i18n.t('ui_i18n_t_ui_i18n_t_ui_newmodal_style_opacity')le_transform'i18n.t('ui_i18n_t_ui_i18n_t_ui_newmodal_style_transi18n_t')i_update_modal_z_indexei18n.t('ui_t')datemodalzindexi18n_t_ui_show_i18n_t_ement_for_i18n.t('ui_modal_bd_i18n_t')imeout_ifi18n_t_ui_0_i18n_t_inci18n.t('ui_1_i18n_t')data_newmodal_focus_100_i18n_t_ui_scale_0_9_i18n_i18n.t('ui_scale_1_i18n_t')_error')"Error creating modal element:"i18n.t('ui_i18n_t_ui_i18n_t_ui_iii18n.t('ui_show_i18n_t')n_t_ror_throw_new_error_failed_to_create_moi18ni18n.t('ui_0_i18n_t')_1_i18n_t_enhanced_modal_opening_with_proper_lifei18n.t('ui_scale_0_9_i18n_t')d_error_handling_export_ci18n.t('ui_error_creating_modal_element_i18n_t')sync_async_function_modi18n.t('ui_1_i18n_t')ons_try_try_store_the_currently_focused_eli18n_t_i18n.t('ui_scale_1_i18n_t')_modal_element_i18n_t_eelement_document_activeelement_if_activeelement_activeelement_setattribute_data_last_focused_true_create_new_modal_instance_with_name_const_modalname_options_name_modalpath_modal_date_ni18n.t('ui_error_creating_modal_element_i18n_t')lname_set_up_mutation_observer_for_modal_removal_detection_const_observer_new_mutationobserver_obs_if_document_contains_modal_element_obs_disconnect_resolve_observer_observe_document_body_childlist_true_subtree_true_set_loading_state_with_better_ux_modal_body_innerhtml_div_class')"modal-loading"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_div_class')"loading-spinner"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_div_div_class')"loading-text"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_loading_modalpath_div_div_add_i18n.t('ui_modal_loading_i18n_t')ely_for_proper_state_management_moi18n.t('ui_loading_spinner_i18n_t')e_body_overflow_for_proper_modali18n_ti18n.t('ui_loading_text_i18n_t')_t_length_1_const_scrollbai18n_t_ui_loading_spinner_i18n_t_document_documentelement_clii18n_t_ui_loading_text_i18n_t_style_overflow')"hidden"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18ni18n.t('ui_modal_loading_i18n_t')le_paddingright_scrollbarwidth_px_i18n.t('ui_loading_spinner_i18n_t')ad_the_modal_content_with_enhanced_erri18n.t('ui_loading_text_i18n_t')onentpath_modalpati18n.t('ui_hidden_i18n_t')alpath_slice_1_modalpath_load_modal_content_with_proper_error_handlingi18n_t_ui_hidden_i18n_t_rtcomponent_componentpath_modal_body_then_doc_try_set_the_title_from_the_document_with_fallback_modal_title_innerhtml_doc_doc_title_modalpath_apply_css_classes_from_document_if_ai18n.t('ui_hidden_i18n_t')doc_html_doc_html_classlist_const_inner_modal_element_queryselector')".modal-inner"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_if_inner_inner_classlist_add_array_from_doc_html_classlist_if_doc_doc_body_doc_body_classlist_modal_body_classlist_add_array_from_doc_body_ci18n.t('ui_modal_inner_i18n_t')_ready_event_modal_element_dispatchevent_new_customevent_modali18n_t_ui_modal_inner_i18n_t_h_modalpath_focus_management_for_accessibility_settimeout_if_modal_element_document_contains_modal_element_modal_element_focus_move_focus_to_first_focusable_element_i18n.t('ui_modal_inner_i18n_t')rstfocusable_modal_element_queryselector_button_href_input_select_textarea_tabindex_not_tabindex')"-1"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_if_firstfocusable_firstfocusable_focus_100_catch_rendererror_console_error_error_rendering_modal_content_rendererror_modal_body_innerhtml_div_i18n.t('ui_1_i18n_t')l-error"i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_div_class')"error-title"i18n.t('ui_i18n_t_i18n_t_ui_1_i18n_t_i_i18n_t_ui_rendering_error_div_div_class')"error-message"i18ni18n.t('ui_modal_error_i18n_t')_t_ui_i18n_t_ui_failed_to_render_mi18n.t('ui_error_title_i18n_t_i18n_t')sage_div_div_i18n.t('ui_i_i18n_t_ui_rendering_error_div_div_class')_oading_modal_content')"ii18n.t('ui_i18n_t_ui_i18n_t_ui_failed_to_render_modal_content_rendererror_message_div_div_catch_error_coi18n_t')8n_t')ui_i18n_t_ui_i18ni18n.t('ui_oading_modal_content_i1i18n_t')or_title')"i18n.t('ui_ii18n.t('ui_8n_t_ui_error_modal_body_innerhtml_div_classi18n_t')rror_loading_modal_conteni18n.t('ui_i18n_t_ui_i18n_t_ui_div_class')to_load_modal_content_ei18n.t('ui_i18n_t_ui_i18n_t_ui_loading_error_div_divi18n_t')i_error_retry')"i18n.ti18n.t('ui_error_i18n.t('ui_t_ui_i18n_t_ui_failed_to_load_modal_content_error_i18n_t'))"i1i18n.t('ui_error_mei18n.t('ui_ass')e_i18n_t')_t_ui_retry_button_i18n.t('ui_error_title_i18n_t')_modal_loadingi18n.t('ui_openmodal')cally_ifi18n.ti18n.t('ui_i1i18n_t')retry_i18n_t')r_reject_eri18n.t('ui_t_ui_retry_button_div_reject_promise_if_modal_loading_fails_critically_ifi18n_t')updatemodalzindexes_cati18n.t('ui_r_reject_error_finallyi18n_t')or_component_mi18n.t('ui_l_z_indexes_rei18n_t')enmodal_modi18n.t('ui_of_load_outcome_updatemodalzindexes_catch_error_await_handleerror_error_component_modalsystem_function_openmodal_modalpath_options_json_stringify_options_throw_error_enhanced_modal_close_function_with_proper_lifecycle_management_export_function_closemodal_modalname_null_if_modalstack_length_0_return_try_let_modalindex_modalstack_length_1_default_to_last_modal_let_modal_if_modalname_find_the_modal_with_the_specified_name_in_the_stack_modalindex_modalstack_findindex_modal_modal_name_modalname_if_modalindex_1_return_modal_not_found_in_stack_get_the_modal_from_stack_at_the_found_index_modal_modalstack_modalindex_remove_the_modal_from_stack_modalstack_splice_modalindex_1_else_just_remove_the_last_modal_modal_modalstack_pop_if_modal_modal_element_console_warn_invalid_modal_object_or_element_return_mark_modal_as_closing_modal_isopen_false_remove_modal_specific_styles_and_scripts_with_proper_cleanup_try_if_array_isarray_modal_styles_modal_styles_foreach_styleid_const_styleelement_document_queryselector_data_modal_style')ipts_modal_scripts_fori18n.t('ui_i18n_t_ui_i18n_t_ui_if_styleelement_styleelement_remove_if_array_isarray_modal_scripts_modal_scripts_foreach_scriptid_const_scriptelemeni18n_t')element_scriptelemei18n.t('ui_ctor_data_modal_script')error_console_warn_erroi18n.t('ui_i18n_t_ui_i18n_t_ui_if_scriptelement_scriptelement_remove_catch_cleanuperror_console_warn_error_cleaning_up_modal_resources_ci18n_t')i18n_t_ui_modal_elemi18n.t('ui_odal_closure_modal_element_style_opacity')ui_i18n_t_ui_i18n.t('ui_i18n_t_ui_i18n_t_ui_modal_element_style_transform')18n_t_ui_0_i18n_t_t_uii18n.t('ui_i18n_t_ui_i18n_t_ui_modal_element_classlist_remove')_0_9_i18ni18n.t('ui_0_i18n_t')tion_ci18n.t('ui_i18n_t_ui_i18n_t_ui_remove_the_modal_i18n_t')18n_t_l_element_modali18n.t('ui_er_animation_completes_const_removemodalelemei18n_t')odal_document_cri18n.t('ui_l_element_modal_eli18n_t_ui_return_fallback_modal_ui_const_fallbackmodal_document_createelement_div_fallbackmodal_classname_modal_error_fallback_fallbackmodal_innerhtml_for_proper_animation_comi18n_t_ui_modal_error_st_transitionhandler_event_ii18n_t_ui_errordata_usermessage_city_modal_element_removeeventlistener_transitionend_transitionhandler_removemodalelemi18n_t_ui_close_odal_element_addeventlistener_transitionend_transitionhandler_once_true_fallback_timeout_in_case_transition_doesn_t_fire_const_fallbacktimeout_settimeout_modal_element_removeeventlistener_transitionend_transitionhandler_removemodalelement_modalstate_animationduration_100_handle_backdrop_visibility_and_body_overflow_if_modalstack_length_0_no_modals_left_restore_normal_state_document_body_style_overflow').t('ui_i18n_i18n.t('ui_i18n_t_ui_i18n_t_ui_document_body_style_paddingright')bar_compensai18n.t('ui_i18n_t_ui_i18n_t_ui_remove_poi18n_t')i_i18n_t_nei18n.t('ui_rollbar_compensation_return_focus_to_the_elemeni18n_t')ctor_data_li18n.t('ui_ned_the_modal_const_lastfocusedelement_document_queryselector_data_last_focused_if_lastfocusedelement_lastfocusedelement_focus_lastfocusedelement_removeattribute_data_last_focused_else_return_focus_to_the_previous_modal_if_modalstack_length_0_const_previousmodal_modalstack_modalstack_length_1_if_previousmodal_previousmodal_element_previousmodal_element_focus_update_modal_z_indexes_after_state_change_updatemodalzindexes_clear_the_fallback_timeout_if_modal_was_removed_successfully_modal_element_addeventlistener_transitionend_cleartimeout_fallbacktimeout_once_true_catch_error_console_error_error_closing_modal_error_fallback_force_cleanup_if_something_went_wrong_try_modalstack_foreach_modal_if_modal_element_modal_element_parentnode_modal_element_parentnode_removechild_modal_element_modalstack_length_0_updatemodalzindexes_document_body_style_overflow')ole_error_fai18n.t('ui_i18n_t_ui_i18n_t_ui_catch_fallbackerror_console_error_fallback_cleanup_failei18n_t')the_last_moi18n.t('ui_error_function_to_scroll_to_element_by_id_within_the_last_modal_export_function_scrollmodal_id_if_id_return_get_the_last_modal_in_the_stack_const_lastmodal_modalstack_modalstack_length_1_element_if_lastmodal_return_find_the_modal_container_and_target_element_const_modalcontainer_lastmodal_queryselector')st_targetelement_lastmodai18n.t('ui_i18n_t_ui_i18n_t_ui_const_targetelement_lastmodal_quei18n_t')container_scrollto_top_ti18n.t('ui_ontainer_targetelement_modalcontainer_scrollto_top_targetelement_offsettop_20_20px_padding_from_top_behavior')ke_scrollmodal_gloi18n.t('ui_i18n_t_ui_i18n_t_ui_make_scrollmodal_globally_avaii18n_t')ndle_modal_contenti18n.t('ui_scrollmodal_scrollmodal_handle_modal_content_loading_from_clicks_document_addeventlistener')_ui_async_e_consti18n.t('ui_i18n_t_ui_i18n_t_ui_async_e_const_modaltri18n_t')l-content]"i18n.ti18n.t('ui_closest')n_t_ui_i18n_t_ui_i18n_ti18n_t_uii18n.t('ui_i18n_t_ui_i18n_ti18n_t')_efault_if_modaltrigger_hasatti18n.t('ui_efault_if_modaltrigger_hasattribute')ui_i18n_t_ui_i18n_t_i18n.t('ui_i18n_t_ui_i18n_t_ui18n_t')slist_contains')"disi18n.t('ui_sslist_contains')_i18n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui18n_t')i18n_t_const_modalpai18n.t('ui_const_modalpath_modaltrigger_getattribute')'ui_i18n_t_ui_i1i18n.t('ui_i1i18n_t')ef_i18n_t_ui_awai18n.t('ui_await_openmodal_modalpath_close_modal_on_escape_key_closes_only_the_top_modal_document_addeventlistener')wn"i18n.t('ui_i18n_i18n.t('ui_keydown_i18n_t')_t_ui_i18n_t_ui_e_if_e_key')"Escape" && modalStack.length > 0) {
    closeModal();
  }
});

// also export as global function
globalThis.openModal = openModal;
globalThis.closeModal = closeModal;
globalThis.scrollModal = scrollModal;
