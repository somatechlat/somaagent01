// Simplified Message Action Buttons - Keeping the Great Look & Feel
import { store as speechStore } from "i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_chat_speech_speech_store_js')";

// Exti18n.t('ui_i18n_t_ui_i18n_t_ui_chat_speech_speech_store_js')ction getTextContent(element) {
  // Get all children except action buttons
  const textParts = [];
  // Loop through all child elements
 i18n.t('ui_i18n_t_ui_chat_speech_speech_store_js')
    // Skip action i18n.t('ui_i18n_t_ui_chat_speech_speech_store_js')("i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_action_buttons')")) continue;i18n.t('ui_i18n_t_ui_i18n_t_ui_action_buttons')y its src URL
    if (child.tagName && child.tagName.toLowerCase() === "i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_img')") {
      if i18n.t('ui_i18n_t_ui_i18n_t_ui_img')(chi18n.t('ui_i18n_t_ui_action_buttons')   }
    // Gi18n.t('ui_i18n_t_ui_action_buttons')ild
    const text = child.innerText || ""i18n.t('ui_i18n_t_ui_i18n_t_ui_i18n_t_ui_if_text_ti18n.t('ui_i18n_t_ui_i18n_t_ui_if_text_trim_textpai18n_t')t_parts_with_doubli18n.t('ui_im_join_all_text_parts_with_double_newlines_return_textparts_join')t_ui_i18n_t_ui_ci18n.t('ui_i18n_t_ui_i18n_t_ui_create_and_add_action_buttons_to_element_export_function_ai18n_t')m_textparts_push_text_trim_join_all_text_parts_with_double_newlines_return_textparts_join_ui_i18n_t_ui_i1i18n_t_ui_i1i18n.t('ui_i18n_t_ui_i1i18n_t')_action_buttons_to_element_export_function_addactionbuttonstoelement_element_skip_if_buttons_already_exist_if_element_queryselector_e_e_stoppropagation_check_iii18n.t('ui_e_e_stoppropagation_check_ii18n_t')ntainer_with_same_styling_as_original_const_container_document_createi18n_t_ui_content_copy_v_copy_action')"i18ni18n.t('ui_ci18n.t('ui_copy_action_i18ni18n_t')_stoppropagation_check_if_the_button_container_is_still_fading_in_opacity')xt"i18n.t('ui_i18n_t_ui_i1i1i18n.t('ui_xt_i18n_t')n_t_ui_copybtni18n.t('ui_i18n_t_ui_copybtn_classname')material-symbols-oii18n.t('ui_material_symbols_oi18n_t')_setattribute')_t_ui_content_copy_si18n.t('ui_t_ui_content_copy_spai18n_t')async_e_e_stopi18n.t('ui_click_async_e_e_stoppi18n_t')_innerhtml_span_class')is_still_fading_in_oi18n.t('ui_is_still_fading_in_opacity_0_5_if_pari18n_t')_copy_span_copybtn_onclick_async_e_e_stoppropagation_check_if_the_button_container_is_still_fading_in_opacity_0_5_if_parsefloat_window_getcomputedstyle_container_opacity_0_5_return_don_t_proceed_if_still_fading_in_const_text_gettextcontent_element_const_icon_copybtn_queryselector')t_navigator_clipboari18n.t('ui_t_navigator_clipboard_writetext_text_ei18n_t')_modern_clipboard_api_if_navigator_clipboard_window_issecurecontext_await_navigator_clipboard_writetext_text_else_fallback_for_local_dev_const_textarea_document_createelement')area_style_left')"i1i18n.t('ui_area_style_left')_ui_i18n_t_uii18n.t('ui_i18n_t_ui_textarea_value_text_textarea_style_position')xtareai18n_t_ui_i18n_t_ui_ti18n.t('ui_i18n_t_ui_textarea_style_left')_contenti18n_t_ui_i18n_t_ui_doci18n.t('ui_i18n_t_ui_document_body_appendchild_textarea_textarea_select_doi18n_t_ui_icon_textcontent_content_copy_copybtn_classlist_remove_success_2000_catch_err_console_error_copy_failed_err_icon_textcontent_error_copybtn_classlist_add_error_settimeout_icon_textcontent_content_copy_copybtn_classlist_remove_error_2000_speak_button_matches_original_design_const_speakbtn_document_createelement_button_speakbtn_classname_action_button_speak_action_speakbtn_setattribute_aria_label_speak_text_speakbtn_innerhtml_classname')stoppropagation_check_ii18n_t_ui_ii18n_t_ui_volui18n.t('ui_ii18n_t_ui_volume_up_speakbi18n_t_ui_speakbtn_onclick_async_e_e_stoppropagation_check_if_the_button_container_is_still_fading_in_opacity_ui_volume_up_span_speakbtn_onclick_async_e_e_stoppropagation_check_if_the_button_container_is_still_fading_in_opacity_0_5_if_parsefloat_window_getcomputedstyle_container_opacity_0_5_return_don_t_proceed_if_still_fading_in_const_text_gettextcontent_element_const_icon_speakbtn_queryselector')eedback_icon_textconti18n_t_ui_i18n_t_ui_if_texti18n.t('ui_i18n_t_ui_if_text_text_trim_length_0_return_try_visual_feedback_icon_textcontent')n_ti18n.t('ui_i18n_t_ui_i18i18n_t')classlist_add')"volume_up"i18n.t('ui_i18n.t('ui_volume_up_i18n_t_i18n_t')settimeout_icon_textcontent_st_remove')"sui18n.t('ui_st_remove').t('ui_ii18n_t_ui_i1i18n.t('ui_i18n_t_ui_speakbtn_classlist_remove')ch_store_awaiti18n_t_ui_i18n_i18n.t('ui_i18n_t_ui_2000_use_speech_store_await_speechstore_speak_text_catch_err_console_error')i_err_icon_textconti18n_t_ui_i18n_t_i18n.t('ui_i18n_t_ui_err_icon_textcontent')_speakbti18n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui_speakbtn_classlist_add')18n_t_i18n_t_ui_i18n_t_ui_si18n.t('ui_i18n_t_ui_settimeout_icon_textcontent')ui_i18n_t_i18i18n.t('ui_i18n_t_i18n_t')_speakbtn_classlist_remove')')"i18n.t('ui_error')");
      }, 2000);
    }
  };

  container.append(copyBtn, speakBtn);
  // Add container as the first child instead of appending it
  if (element.firstChild) {
    element.insertBefore(container, element.firstChild);
  } else {
    element.appendChild(container);
  }
}
