import { createStore } from "i18n.t('ui_i18n_t_ui_i18n_t_ui_js_alpinestore_js')";
import { getContext } from "i18n.t('ui_i18n_t_ui_i18n_t_ui_index_js')";
import * as API from "i18n.t('ui_i18n_t_ui_i18n_t_ui_js_api_js')";
import { openModal, closeModal } from "i18n.t('ui_i18n_t_ui_i18n_t_ui_js_modals_js')";
// Unified notifications (SSE + REST)
import { store as notificationsSse } from "i18n.t('ui_i18n_t_ui_i18n_t_ui_components_notifications_notificationsstore_js')";
import * as bus from "i18n.t('ui_i18n_t_ui_i18n_t_ui_js_event_bus_js')";

// Helper function for toasts
function justToast(text, type = "i18n.t('ui_i18n_t_ui_i18n_t_ui_info')", timeout = 5000) {
  try { notificationsSse.create({ type, title: text, body: ""i18n.t('ui_i18n_t_ui_i18n_t_ui_severity_type_ttl_seconds_math_max_1_timeout_1000_catch_memory_dashboard_store_const_memorydashboardstore_data_memories_currentpage_1_itemsperpage_10_state_loading_false_loadingsubdirs_false_initializingmemory_false_error_null_message_null_memory_subdirectories_memorysubdirs_selectedmemorysubdir')"default"i18n.t('ui_i18n_t_ui_i18n_t_ui_memoryinitialized_track_which_subdirs_have_been_initialized_search_and_filters_searchquery')""i18n.t('ui_i18n_t_ui_i18n_t_ui_areafilter')""i18n.t('ui_i18n_t_ui_i18n_t_ui_threshold_parsefloat_localstorage_getitem')"memoryDashboard_threshold"i18n.t('ui_i18n_t_ui_i18n_t_ui')"0.6"i18n.t('ui_i18n_t_ui_i18n_t_ui_limit_parseint_localstorage_getitem')"memoryDashboard_limit"i18n.t('ui_i18n_t_ui_i18n_t_ui')"1000"i18n.t('ui_i18n_t_ui_i18n_t_ui_stats_totalcount_0_totaldbcount_0_knowledgecount_0_conversationcount_0_areascount_memory_detail_modal_standard_modal_approach_detailmemory_null_editmode_false_editmemorybackup_null_sse_only_no_polling_retained_prior_fields_removed_async_openmodal_await_openmodal')"settings/memory/memory-dashboard.html"i18n.t('ui_i18n_t_ui_i18n_t_ui_init_this_initialize_async_onopen_await_this_getcurrentmemorysubdir_await_this_loadmemorysubdirs_await_this_searchmemories_subscribe_to_sse_bus_events_for_memory_invalidations_if_this_businited_this_businited_true_this_unsubs_this_unsubs_push_bus_on')"memory.list.update"i18n.t('ui_i18n_t_ui_i18n_t_ui_this_searchmemories_true_this_unsubs_pi18n.t('ui_i18n_t_ui_js_alpinestore_js')'ui_i18n_t_ui_i18n_t_ui_ev_try_const_t_evi18n.t('ui_i18n_t_ui_index_js')t_startswith_memory_t_assistant_fini18n.t('ui_i18n_t_ui_js_api_js')ins_pagination_selections_this_searchmemories_true_ci18n.t('ui_i18n_t_ui_js_modals_js')et_state_when_opening_but_keep_directory_from_context_this_currentpage_1_this_searchquery')""ii18n.t('ui_i18n_t_ui_components_notifications_notificationsstore_js')_i18n_t_ui_i18n_t_ui_get_current_mei18n.t('ui_i18n_t_ui_js_event_bus_js')cation_context_await_this_getcurrentmemorysubdir_await_this_loadmemorysubdirsi18n.t('ui_i18n_t_ui_info')arch_with_selected_subdirectory_if_this_selectedmemorysubdir_await_this_searchmemories_sse_si18n.t('ui_i18n_t_ui_severity_type_ttl_seconds_math_max_1_timeout_1000_catch_memory_dashboard_store_const_memorydashboardstore_data_memories_currentpage_1_itemsperpage_10_state_loading_false_loadingsubdirs_false_initializingmemory_false_error_null_message_null_memory_subdirectories_memorysubdirs_selectedmemorysubdir')tcontext_if_responsi18n.t('ui_i18n_t_ui_memoryinitialized_track_which_subdirs_have_been_initialized_search_and_filters_searchquery')orysubdir')"i18n.t('ui_i18n_t_ui_areafilter')_t_ui_i18n_ti18n.t('ui_i18n_t_ui_threshold_parsefloat_localstorage_getitem')memory subdirectory:"i18n.t('ui_i18n_i18n.t('ui_i18n_t_ui')ui_error_this_si18n.t('ui_i18n_t_ui_limit_parseint_localstorage_getitem')ui_i18n_t_ui_async_loadmemorysubdi18n.t('ui_i18n_t_ui')dingsubdirs_truei18n.t('ui_i18n_t_ui_stats_totalcount_0_totaldbcount_0_knowledgecount_0_conversationcount_0_areascount_memory_detail_modal_standard_modal_approach_detailmemory_null_editmode_false_editmemorybackup_null_sse_only_no_polling_retained_prior_fields_removed_async_openmodal_await_openmodal')y_but_ensure')"default"i18n.t('ui_i18n_t_ui_i18n_i18n.t('ui_i18n_t_ui_init_this_initialize_async_onopen_await_this_getcurrentmemorysubdir_await_this_loadmemorysubdirs_await_this_searchmemories_subscribe_to_sse_bus_events_for_memory_invalidations_if_this_businited_this_businited_true_this_unsubs_this_unsubs_push_bus_on')')"default"i18n.t('ui_i18n_t_ui18n.t('ui_i18n_t_ui_this_searchmemories_true_this_unsubs_push_bus_on')elected_subdirectory_i18n.t('ui_i18n_t_ui_ev_try_const_t_ev_type_tolowercase_if_t_startswith_memory_t_assistant_final_silent_refresh_retains_pagination_selections_this_searchmemories_true_catch_async_initialize_reset_state_when_opening_but_keep_directory_from_context_this_currentpage_1_this_searchquery')18n.t('ui_i1i18n.t('ui_i18n_t_ui_this_areafilter')tedmemorysubi18n.t('ui_i18n_t_ui_get_current_memory_subdirectory_from_application_context_await_this_getcurrentmemorysubdir_await_this_loadmemorysubdirs_automatically_search_with_selected_subdirectory_if_this_selectedmemorysubdir_await_this_searchmemories_sse_subscriptions_already_established_in_onopen_no_polling_async_getcurrentmemorysubdir_try_try_to_get_current_memory_subdirectory_from_the_backend_const_response_await_api_calljsonapi')y subdirectory loading errori18n.t('ui_i18n_t_ui_action')_ui_i18n_t_ui_error_finally_this_loadi18n.t('ui_i18n_t_ui_context_id_getcontext_if_response_success_response_memory_subdir_this_selectedmemorysubdir_response_memory_subdir_else_this_selectedmemorysubdir')ui_i18n_t_ui_this_li18n.t('ui_i18n_t_ui_catch_error_console_error')emoryDashboard_threshold"i18n.t('ui_i18n_t_ui_i18n_t_ui18n.t('ui_i18n_t_ui_error_this_selectedmemorysubdir')ding_true_this_erroi18n.t('ui_i18n_t_ui_async_loadmemorysubdirs_this_loadingsubdirs_true_this_error_null_try_const_response_await_api_calljsonapi')dmemorysubdir_this_initializi18n.t('ui_i18n_t_ui_action')const_response_await_api_callji18n.t('ui_i18n_t_ui_if_response_success_let_subdirs_response_subdirs')on')"search"i18n.t(i18n.t('ui_i18n_t_ui_sort_alphabetically_but_ensure')selectedmemorysubdii18n.t('ui_i18n_t_ui_is_always_first_subdirs_subdirs_filter_dir_dir')imit_threshold_thisi18n.t('ui_i18n_t_ui_sort_if_response_subdirs_response_subdirs_includes')ing_sse_driven_silei18n.t('ui_i18n_t_ui_subdirs_unshift')ections_if_silent_ti18n.t('ui_i18n_t_ui_else_subdirs_unshift')h_memory_if_memory_i18n.t('ui_i18n_t_ui_this_memorysubdirs_subdirs_ensure_the_currently_selected_subdirectory_exists_in_the_list_if_this_memorysubdirs_includes_this_selectedmemorysubdir_this_selectedmemorysubdir')mory_id_false_this_i18n.t('ui_i18n_t_ui_else_this_error_response_error')ldbcount_response_total_db_count_0_this_knowledgi18n.t('ui_i18n_t_ui_this_memorysubdirs')_0_this_conversatioi18n.t('ui_i18n_t_ui_this_selectedmemorysubdir')f_silent_this_messai18n.t('ui_i18n_t_ui_catch_error_this_error_error_message')_to_first_page_when_loading_new_data_else_for_sii18n.t('ui_i18n_t_ui_this_memorysubdirs')e_if_it_exceeds_avai18n.t('ui_i18n_t_ui_only_fallback_to_default_if_current_selection_is_not_available_if_this_memorysubdirs_includes_this_selectedmemorysubdir_this_selectedmemorysubdir')ed_this_selectedmemi18n.t('ui_i18n_t_ui_console_error')ent_this_error_response_error')"Failed to seari18n.t('ui_i18n_t_ui_error_finally_this_loadingsubdirs_false_async_searchmemories_silent_false_save_limit_to_localstorage_for_persistence_localstorage_setitem')arn')"Memory dashboard silent refi18n.t('ui_i18n_t_ui_this_limit_tostring_localstorage_setitem')error_catch_error_if_silent_this_erroi18n.t('ui_i18n_t_ui_this_threshold_tostring_if_silent_this_loading_true_this_error_null_this_message_null_check_if_this_memory_subdirectory_needs_initialization_if_this_memoryinitialized_this_selectedmemorysubdir_this_initializingmemory_true_try_const_response_await_api_calljsonapi')ard silent refresh error:"i1i18n.t('ui_i18n_t_ui_action')i18n_t_ui_error_fii18n.t('ui_i18n_t_ui_memory_subdir_this_selectedmemorysubdir_area_this_areafilter_search_this_searchquery_limit_this_limit_threshold_this_threshold_if_response_success_preserve_existing_selections_during_sse_driven_silent_refresh_const_existingselections_if_silent_this_memories_this_memories_foreach_memory_if_memory_selected_existingselections_memory_id_true_add_selected_property_to_each_memory_item_for_mass_selection_this_memories_response_memories_map_memory_memory_selected_existingselections_memory_id_false_this_totalcount_response_total_count_0_this_totaldbcount_response_total_db_count_0_this_knowledgecount_response_knowledge_count_0_this_conversationcount_response_conversation_count_0_if_silent_this_message_response_message_null_this_currentpage_1_reset_to_first_page_when_loading_new_data_else_for_silent_updates_adjust_current_page_if_it_exceeds_available_pages_if_this_currentpage_this_totalpages_this_totalpages_0_this_currentpage_this_totalpages_mark_this_subdirectory_as_initialized_this_memoryinitialized_this_selectedmemorysubdir_true_else_if_silent_this_error_response_error')_toggleselectall_const_shouldselectali18n.t('ui_i18n_t_ui_this_memories_this_message_null_else_for_silent_updates_just_log_the_error_but_don_t_break_the_ui_console_warn')_memory_selected_false_bulk_operations_async_bulkdei18n.t('ui_i18n_t_ui_response_error_catch_error_if_silent_this_error_error_message')ies_length_0_return_const_confirmmessi18n.t('ui_i18n_t_ui_this_memories_this_message_null_console_error')h_selected_memories_this_cannot_i18n.t('ui_i18n_t_ui_error_else_for_silent_updates_just_log_the_error_but_don_t_break_the_ui_console_warn')napi')"memory_dashboard"i18n.t('ui_i18n_t_ui_i18n_i18n.t('ui_i18n_t_ui_error_finally_if_silent_this_loading_false_this_initializingmemory_false_async_clearsearch_this_areafilter')ories_map_mei18n.t('ui_i18n_t_ui_this_searchquery')ccess_justtoi18n.t('ui_i18n_t_ui_this_currentpage_1_immediately_trigger_a_new_search_with_cleared_filters_await_this_searchmemories_async_onmemorysubdirchange_clear_current_results_when_subdirectory_changes_then_refresh_await_this_clearsearch_pagination_get_totalpages_return_math_ceil_this_memories_length_this_itemsperpage_get_paginatedmemories_const_start_this_currentpage_1_this_itemsperpage_const_end_start_this_itemsperpage_return_this_memories_slice_start_end_gotopage_page_if_page_1_page_this_totalpages_this_currentpage_page_nextpage_if_this_currentpage_this_totalpages_this_currentpage_prevpage_if_this_currentpage_1_this_currentpage_mass_selection_get_selectedmemories_return_this_memories_filter_memory_memory_selected_get_selectedcount_return_this_selectedmemories_length_get_allselected_return_this_memories_length_0_this_memories_every_memory_memory_selected_get_someselected_return_this_memories_some_memory_memory_selected_toggleselectall_const_shouldselectall_this_allselected_this_memories_foreach_memory_memory_selected_shouldselectall_clearselection_this_memories_foreach_memory_memory_selected_false_bulk_operations_async_bulkdeletememories_const_selectedmemories_this_selectedmemories_if_selectedmemories_length_0_return_const_confirmmessage_are_you_sure_you_want_to_delete_selectedmemories_length_selected_memories_this_cannot_be_undone_if_confirm_confirmmessage_return_try_this_loading_true_const_response_await_api_calljsonapi')    formatted += `\n${key}: i18n.t('ui_i18n_t_ui_action')     }
    }

    formai18n.t('ui_i18n_t_ui_memory_subdir_this_selectedmemorysubdir_memory_ids_selectedmemories_map_memory_memory_id_if_response_success_justtoast_successfully_deleted_selectedmemories_length_memories')== 0) return;

    i18n.t('ui_i18n_t_ui_let_polling_refresh_the_data_instead_of_manual_manipulation_trigger_an_immediate_refresh_to_get_updated_state_from_backend_await_this_searchmemories_true_silent_refresh_else_justtoast_response_error')h_memories_with_metadata_to_clipboard')"succesi18n.t('ui_i18n_t_ui')_i18n_t_ui_i18n_ti18n.t('ui_i18n_t_ui_catch_error_justtoast_error_message')is_selectedmemories_if_selectedmemories_lengthi18n.t('ui_i18n_t_ui')nst_exportdata_exi18n.t('ui_i18n_t_ui_finally_this_loading_false_helper_method_to_format_a_complete_memory_with_all_metadata_formatmemoryforcopy_memory_let_formatted_memory_id_memory_id_area_memory_area_timestamp_this_formattimestamp_memory_timestamp_source_memory_knowledge_source')owledge_source_memoryi18n.t('ui_i18n_t_ui')ource_source_file_memoryi18n.t('ui_i18n_t_ui_memory_source_file_file_memory_source_file')ring_json_sti18n.t('ui_i18n_t_ui_memory_tags_memory_tags_length_0_tags_memory_tags_join')lication/json"i18n.t('ui_i18n_t_ui')18n_t_ui_i18i18n.t('ui_i18n_t_ui_add_custom_metadata_if_present_if_memory_metadata_typeof_memory_metadata'))"T"i18n.t('ui_i18i18n.t('ui_i18n_t_ui_object_keys_memory_metadata_length_0_formatted')orysubdir_selected_selecti18n.t('ui_i18n_t_ui_for_const_key_value_of_object_entries_memory_metadata_const_displayvalue_typeof_value')_a_href_url_a_download_filename_document_body_appendchild_a_a_click_document_body_removechild_a_url_revokeobjecturl_url_justtoast_exported_selectedmemories_length_selected_memories_to_filename')"success"i18n.t('ui_i18n_t_ui_i18n_t_ui_memory_detail_modal_standard_approach_showmemorydetails_memory_this_detailmemory_memory_this_editmode_false_this_editmemorybackup_null_use_global_modal_system_openmodal')"settings/memory/memory-detail-modal.htmli18n.t('ui_i18n_t_ui_this_copytoclipboard_content_false_justtoast_copied_selectedmemories_length_memories_with_metadata_to_clipboard')if_timestamp_timesti18n.t('ui_i18n_t_ui_bulkexportmemories_const_selectedmemories_this_selectedmemories_if_selectedmemories_length_0_return_const_exportdata_export_timestamp_new_date_toisostring_memory_subdir_this_selectedmemorysubdir_total_memories_selectedmemories_length_memories_selectedmemories_map_memory_id_memory_id_area_memory_area_timestamp_memory_timestamp_content_memory_content_full_tags_memory_tags_knowledge_source_memory_knowledge_source_source_file_memory_source_file_null_metadata_memory_metadata_const_jsonstring_json_stringify_exportdata_null_2_const_blob_new_blob_jsonstring_type')t"i18n.t('ui_i18n_t_ui_i18n_i18n.t('ui_i18n_t_ui_const_url_url_createobjecturl_blob_const_timestamp_new_date_toisostring_split')_ui_i18n_t_uii18n.t('ui_i18n_t_ui_0_const_filename_memories_this_selectedmemorysubdir_selected_selectedmemories_length_timestamp_json_const_a_document_createelement')i18n.t('ui_i1i18n.t('ui_i18n_t_ui_a_href_url_a_download_filename_document_body_appendchild_a_a_click_document_i18n.t('ui_n_key_displayvalue')vokeobjecturl_url_justtoast_exportedi18n.t('ui_n_ncontent_memory_content_full')ories_to_filename')f_array_isarray_tagi18n.t('ui_i18n_t_ui_memory_detail_modal_standard_approach_showmemorydetails_memory_this_detailmemory_memory_this_editmode_false_this_editmemorybackup_null_use_global_modal_system_openmodal')i18n_t_ui_fragments')"#10b981"i18n.t('ui_i18n_t_ui_ii18n.t('ui_i18n_t_ui_closememorydetails_this_detailmemory_null_utilities_formattimestamp_timestamp_compact_false_if_timestamp_timestamp')area')"#6c757d"i18ni18n.t('ui_i18n_t_ui_return')8n_t_ui_copytoclipbi18n.t('ui_i18n_t_ui_const_date_new_date_timestamp_if_isnan_date_gettime_return')xt_navigator_clipboard_wi18n.t('ui_i18n_t_ui_if_compact_for_table_display_mm_dd_hh_mm_return_date_tolocaledatestring')t_ui_i18n_t_ui')"i18n.t('ui_i18n_t_ui_month')_i18n_t_ui_i18n_t_ui18n.t('ui_i18n_t_ui_day')ole_error')"Clipboai18n.t('ui_i18n_t_ui')ed:"i18n.t('ui18n.t('ui_i18n_t_ui_date_tolocaletimestring')ackcopytoclipboari18n.t('ui_i18n_t_ui_hour12_false_hour')fallbackcopytoclipbi18n.t('ui_i18n_t_ui_minute')ess_fallbackcopytoci18n.t('ui_i18n_t_ui_else_for_details_full_format_return_date_tolocaledatestring')textarea"i18n.t('i18n.t('ui_i18n_t_ui_year')_t_ui_textarea_valui18n.t('ui_i18n_t_ui_month')yle_position')"fi18n.t('ui_i18n_t_ui_day')i18n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui')yle_left')"-9999i18n.t('ui_i18n_t_ui_date_tolocaletimestring')textarea_style_toi18n.t('ui_i18n_t_ui_hour12_true_hour')_t_ui_i18n_t_ui_doci18n.t('ui_i18n_t_ui_minute')ild_textarea_textari18n.t('ui_i18n_t_ui_formattags_tags_if_array_isarray_tags_tags_length_0_return')n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui_return_tags_join')Copied to clipi18n.t('ui_i18n_t_ui_getareacolor_area_const_colors_main')i18n.t('ui_i18n_t_ui18n.t('ui_i18n_t_ui_fragments')console_error')"Fali18n.t('ui_i18n_t_ui_solutions')ailed:"i18n.t('ui_ii18n.t('ui_i18n_t_ui_instruments')usttoast')"Failed ti18n.t('ui_i18n_t_ui_return_colors_area')i18n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui_copytoclipboard_text_toastsuccess_true_if_navigator_clipboard_window_issecurecontext_navigator_clipboard_writetext_text_then_if_toastsuccess_justtoast')mory_area_return_try_check_if_thi18n.t('ui_i18n_t_ui')mory_currently_beini18n.t('ui_i18n_t_ui_catch_err_console_error')wingthismemory_this_detailmemory_ti18n.t('ui_i18n_t_ui_err_this_fallbackcopytoclipboard_text_toastsuccess_else_this_fallbackcopytoclipboard_text_toastsuccess_fallbackcopytoclipboard_text_toastsuccess_true_const_textarea_document_createelement')dir_memory_id_memoryi18n.t('ui_i18n_t_ui_textarea_value_text_textarea_style_position')ssfully"i18n.t('ui18n.t('ui_i18n_t_ui_textarea_style_left')i18n.t('ui_i18n_t_ui_i18n.t('ui_i18n_t_ui_textarea_style_top')is_memory_in_detail_mi18n.t('ui_i18n_t_ui_document_body_appendchild_textarea_textarea_focus_textarea_select_try_document_execcommand')ng_refresh_the_di18n.t('ui_i18n_t_ui_if_toastsuccess_justtoast')gger_an_immediate_refresh_to_geti18n.t('ui_i18n_t_ui')te_from_backend_awai18n.t('ui_i18n_t_ui_catch_err_console_error')efresh_else_justtoast_failed_to_delete_memoi18n.t('ui_i18n_t_ui_err_justtoast')i18n.t('ui_i18n_t_ui_i18n_t_ui_catch_eri18n.t('ui_i18n_t_ui')error')"Memory dei18n.t('ui_i18n_t_ui_document_body_removechild_textarea_async_deletememory_memory_if_confirm_are_you_sure_you_want_to_delete_this_memory_from_memory_area_return_try_check_if_this_is_the_memory_currently_being_viewed_in_detail_modal_const_isviewingthismemory_this_detailmemory_this_detailmemory_id_memory_id_const_response_await_api_calljsonapi')ory_subdir_this_selectedmemoi18n.t('ui_i18n_t_ui_action')estamp_new_date_toi18n.t('ui_i18n_t_ui_memory_subdir_this_selectedmemorysubdir_memory_id_memory_id_if_response_success_justtoast')r_memories_this_memories_map_memory_id_i18n.t('ui_i18n_t_ui')ea_memory_area_timei18n.t('ui_i18n_t_ui_if_we_were_viewing_this_memory_in_detail_modal_close_it_if_isviewingthismemory_this_detailmemory_null_closemodal_close_the_detail_modal_let_polling_refresh_the_data_instead_of_manual_manipulation_trigger_an_immediate_refresh_to_get_updated_state_from_backend_await_this_searchmemories_true_silent_refresh_else_justtoast_failed_to_delete_memory_response_error')hen_opening_but_ki18n.t('ui_i18n_t_ui_catch_error_console_error')tpage_1_this_searchquery_this_areai18n.t('ui_i18n_t_ui_error_justtoast')bdirectory_from_application_contexti18n.t('ui_i18n_t_ui')getcurrentmemorysi18n.t('ui_i18n_t_ui_exportmemories_if_this_memories_length_0_justtoast')lected_subdirectory_if_this_seleci18n.t('ui_i18n_t_ui')dir_await_this_seari18n.t('ui_i18n_t_ui_return_try_const_exportdata_memory_subdir_this_selectedmemorysubdir_export_timestamp_new_date_toisostring_total_memories_this_memories_length_search_query_this_searchquery_area_filter_this_areafilter_memories_this_memories_map_memory_id_memory_id_area_memory_area_timestamp_memory_timestamp_content_memory_content_full_metadata_memory_metadata_const_blob_new_blob_json_stringify_exportdati18n_t_ui_this_searchmemories_true_this_unsubs_push_bus_on_sse_event_ev_try_const_t_ev_type_tolowercase_if_t_startswith_memory_t_assistant_final_silent_refresh_retains_pagination_selections_this_searchmemories_true_catch_async_initialize_reset_state_when_opening_but_keep_directory_from_context_this_currentpage_1_this_searchquery_this_areafilter_get_current_memory_subdirectory_from_application_context_await_this_getcurrentmemorysubdir_await_this_loadmemorysubdirs_automatically_search_with_selected_subdirectory_if_this_selectedmemorysubdir_await_this_searchmemories_sse_subscriptions_already_established_in_onopen_no_polling_async_getcurrentmemorysubdir_try_try_to_get_current_memory_subdirectory_from_the_backend_const_response_await_api_calljsonapi_memory_dashboard_action_get_current_memory_subdir_context_id_getcontext_if_response_success_response_memory_subdir_this_selectedmemorysubdir_response_memory_subdir_else_this_selectedmemorysubdir_default_catch_error_console_error_failed_to_get_current_memory_subdirectory_error_this_selectedmemorysubdir_default_async_loadmemorysubdirs_this_loadingsubdirs_true_this_error_null_try_const_response_await_api_calljsonapi_memory_dashboard_action_get_memory_subdirs_if_response_success_let_subdirs_response_subdirs_default_sort_alphabetically_but_ensure_default_is_always_first_subdirs_subdirs_filter_dir_dir_default_sort_if_response_subdirs_response_subdirs_includes_default_subdirs_unshift_default_else_subdirs_unshift_default_this_memorysubdirs_subdirs_ensure_the_currently_selected_subdirectory_exists_in_the_list_if_this_memorysubdirs_includes_this_selectedmemorysubdir_this_selectedmemorysubdir_default_else_this_error_response_error_failed_to_load_memory_subdirectories_this_memorysubdirs_default_this_selectedmemorysubdir_default_catch_error_this_error_error_message_failed_to_load_memory_subdirectories_this_memorysubdirs_default_only_fallback_to_default_if_current_selection_is_not_available_if_this_memorysubdirs_includes_this_selectedmemorysubdir_this_selectedmemorysubdir_default_console_error_memory_subdirectory_loading_error_error_finally_this_loadingsubdirs_false_async_searchmemories_silent_false_save_limit_to_localstorage_for_persistence_localstorage_setitem_memorydashboard_limit_this_limit_tostring_localstorage_setitem_memorydashboard_threshold_this_threshold_tostring_if_silent_this_loading_true_this_error_null_this_message_null_check_if_this_memory_subdirectory_needs_initialization_if_this_memoryinitialized_this_selectedmemorysubdir_this_initializingmemory_true_try_const_response_await_api_calljsonapi_memory_dashboard_action_search_memory_subdir_this_selectedmemorysubdir_area_this_areafilter_search_this_searchquery_limit_this_limit_threshold_this_threshold_if_response_success_preserve_existing_selections_during_sse_driven_silent_refresh_const_existingselections_if_silent_this_memories_this_memories_foreach_memory_if_memory_selected_existingselections_memory_id_true_add_selected_property_to_each_memory_item_for_mass_selection_this_memories_response_memories_map_memory_memory_selected_existingselections_memory_id_false_this_totalcount_response_total_count_0_this_totaldbcount_response_total_db_count_0_this_knowledgecount_response_knowledge_count_0_this_conversationcount_response_conversation_count_0_if_silent_this_message_response_message_null_this_currentpage_1_reset_to_first_page_when_loading_new_data_else_for_silent_updates_adjust_current_page_if_it_exceeds_available_pages_if_this_currentpage_this_totalpages_this_totalpages_0_this_currentpage_this_totalpages_mark_this_subdirectory_as_initialized_this_memoryinitialized_this_selectedmemorysubdir_true_else_if_silent_this_error_response_error_failed_to_search_memories_this_memories_this_message_null_else_for_silent_updates_just_log_the_error_but_don_t_break_the_ui_console_warn_memory_dashboard_silent_refresh_failed_response_error_catch_error_if_silent_this_error_error_message_failed_to_search_memories_this_memories_this_message_null_console_error_memory_search_error_error_else_for_silent_updates_just_log_the_error_but_don_t_break_the_ui_console_warn_memory_dashboard_silent_refresh_error_error_finally_if_silent_this_loading_false_this_initializingmemory_false_async_clearsearch_this_areafilter_this_searchquery_this_currentpage_1_immediately_trigger_a_new_search_with_cleared_filters_await_this_searchmemories_async_onmemorysubdirchange_clear_current_results_when_subdirectory_changes_then_refresh_await_this_clearsearch_pagination_get_totalpages_return_math_ceil_this_memories_length_this_itemsperpage_get_paginatedmemories_const_start_this_currentpage_1_this_itemsperpage_const_end_start_this_itemsperpage_return_this_memories_slice_start_end_gotopage_page_if_page_1_page_ory_true_try_const_response_await_api_calljsonapi')his_currentpage_this_totalpai18n.t('ui_i18n_t_ui_action')_0_this_currentpagi18n.t('ui_i18n_t_ui_memory_subdir_this_selectedmemorysubdir_area_this_areafilter_search_this_searchquery_limit_this_limit_threshold_this_threshold_if_response_success_preserve_existing_selections_during_sse_driven_silent_refresh_const_existingselections_if_silent_this_memories_this_memories_foreach_memory_if_memory_selected_existingselections_memory_id_true_add_selected_property_to_each_memory_item_for_mass_selection_this_memories_response_memories_map_memory_memory_selected_existingselections_memory_id_false_this_totalcount_response_total_count_0_this_totaldbcount_response_total_db_count_0_this_knowledgecount_response_knowledge_count_0_this_conversationcount_response_conversation_count_0_if_silent_this_message_response_message_null_this_currentpage_1_reset_to_first_page_when_loading_new_data_else_for_silent_updates_adjust_current_page_if_it_exceeds_available_pages_if_this_currentpage_this_totalpages_this_totalpages_0_this_currentpage_this_totalpages_mark_this_subdirectory_as_initialized_this_memoryinitialized_this_selectedmemorysubdir_true_else_if_silent_this_error_response_error')clear_current_results_when_subdirectoi18n.t('ui_i18n_t_ui_this_memories_this_message_null_else_for_silent_updates_just_log_the_error_but_don_t_break_the_ui_console_warn')rpage_get_paginatedmemories_const_start_this_curreni18n.t('ui_i18n_t_ui_response_error_catch_error_if_silent_this_error_error_message')mories_slice_start_end_gotopage_page_i18n.t('ui_i18n_t_ui_this_memories_this_message_null_console_error')age_if_this_currentpage_this_toti18n.t('ui_i18n_t_ui_error_else_for_silent_updates_just_log_the_error_but_don_t_break_the_ui_console_warn')tedmemories_return_this_memories_filter_memory_memi18n.t('ui_i18n_t_ui_error_finally_if_silent_this_loading_false_this_initializingmemory_false_async_clearsearch_this_areafilter')emories_everi18n.t('ui_i18n_t_ui_this_searchquery')someselectedi18n.t('ui_i18n_t_ui_this_currentpage_1_immediately_trigger_a_new_search_with_cleared_filters_await_this_searchmemories_async_onmemorysubdirchange_clear_current_results_when_subdirectory_changes_then_refresh_await_this_clearsearch_pagination_get_totalpages_return_math_ceil_this_memories_length_this_itemsperpage_get_paginatedmemories_const_start_this_currentpage_1_this_itemsperpage_const_end_start_this_itemsperpage_return_this_memories_slice_start_end_gotopage_page_if_page_1_page_this_totalpages_this_currentpage_page_nextpage_if_this_currentpage_this_totalpages_this_currentpage_prevpage_if_this_currentpage_1_this_currentpage_mass_selection_get_selectedmemories_return_this_memories_filter_memory_memory_selected_get_selectedcount_return_this_selectedmemories_length_get_allselected_return_this_memories_length_0_this_memories_every_memory_memory_selected_get_someselected_return_this_memories_some_memory_memory_selected_toggleselectall_const_shouldselectall_this_allselected_this_memories_foreach_memory_memory_selected_shouldselectall_clearselection_this_memories_foreach_memory_memory_selected_false_bulk_operations_async_bulkdeletememories_const_selectedmemories_this_selectedmemories_if_selectedmemories_length_0_return_const_confirmmessage_are_you_sure_you_want_to_delete_selectedmemories_length_selected_memories_this_cannot_be_undone_if_confirm_confirmmessage_return_try_this_loading_true_const_response_await_api_calljsonapi')py_memory_let_formatted_memoi18n.t('ui_i18n_t_ui_action')a_memory_area_timestampi18n.t('ui_i18n_t_ui_memory_subdir_this_selectedmemorysubdir_memory_ids_selectedmemories_map_memory_memory_id_if_response_success_justtoast_successfully_deleted_selectedmemories_length_memories')mory_source_file')"i18n.t('ui_i18n_t_ui_let_polling_refresh_the_data_instead_of_manual_manipulation_trigger_an_immediate_refresh_to_get_updated_state_from_backend_await_this_searchmemories_true_silent_refresh_else_justtoast_response_error')of_memory_metadata')"object"i18n.t('ui_i18n_t_i18n.t('ui_i18n_t_ui')_object_keys_memoi18n.t('ui_i18n_t_ui_catch_error_justtoast_error_message')18n.t('ui_i18n_t_ui_i18n_t_ui_for_const_key_vai18n.t('ui_i18n_t_ui')t_entries_memory_i18n.t('ui_i18n_t_ui_finally_this_loading_false_helper_method_to_format_a_complete_memory_with_all_metadata_formatmemoryforcopy_memory_let_formatted_memory_id_memory_id_area_memory_area_timestamp_this_formattimestamp_memory_timestamp_source_memory_knowledge_source')mories() {
    const i18n.t('ui_i18n_t_ui')ries = this.selectedMemoi18n.t('ui_i18n_t_ui_memory_source_file_file_memory_source_file')   const coni18n.t('ui_i18n_t_ui_memory_tags_memory_tags_length_0_tags_memory_tags_join')Copy(memory))
i18n.t('ui_i18n_t_ui')"\n"i18n.t('i18n.t('ui_i18n_t_ui_add_custom_metadata_if_present_if_memory_metadata_typeof_memory_metadata')mories_length_memoi18n.t('ui_i18n_t_ui_object_keys_memory_metadata_length_0_formatted')_ui_i18n_t_ui_bulkexportmi18n.t('ui_i18n_t_ui_for_const_key_value_of_object_entries_memory_metadata_const_displayvalue_typeof_value')ortdata_export_timestamp_new_date_toisostring_memory_subdir_this_selectedmemorysubdir_total_memories_selectedmemories_length_memories_selectedmemories_map_memory_id_memory_id_area_memory_area_timestamp_memory_timestamp_content_memory_content_full_tags_memory_tags_knowledge_source_memory_knowledge_source_source_file_memory_source_file_null_metadata_memory_metadata_const_jsonstring_json_stringify_exportdata_null_2_const_blob_new_blob_jsonstrini18n.t('ui_i18n_t_ui_this_copytoclipboard_content_false_justtoast_copied_selectedmemories_length_memories_with_metadata_to_clipboard')ring_split')"T"i18ni18n.t('ui_i18n_t_ui_bulkexportmemories_const_selectedmemories_this_selectedmemories_if_selectedmemories_length_0_return_const_exportdata_export_timestamp_new_date_toisostring_memory_subdir_this_selectedmemoi18n.t('ui_n_key_displayvalue')electedmemories_length_memories_selei18n.t('ui_n_ncontent_memory_content_full')area_memory_area_timestamp_memory_timestamp_content_memory_content_full_tags_memory_tags_knowledge_source_memory_knowledge_source_source_file_memory_source_file_null_metadata_memory_metadata_const_jsonstring_json_stringify_exportdata_null_2_const_blob_new_blob_jsonstring_type')odal_system_openmodal')"setti18n.t('ui_i18n_t_ui_const_url_url_createobjecturl_blob_const_timestamp_new_date_toisostring_split')s_detailmemori18n.t('ui_i18n_t_ui_0_const_filename_memories_this_selectedmemorysubdir_selected_selectedmemories_length_timestamp_json_const_a_document_createelement')t('ui_i18n_t_i18n.t('ui_i18n_t_ui_a_href_url_a_download_filename_document_body_appendchild_a_a_click_document_body_removechild_a_url_revokeobjecturl_url_justtoast_exported_selectedmemories_length_selected_memories_to_filename')('ui_i18n_t_ui_i18ni18n.t('ui_i18n_t_ui_memory_detail_modal_standard_approach_showmemorydetails_memory_this_detailmemory_memory_this_editmode_false_this_editmemorybackup_null_use_global_modal_system_openmodal')t_ui_i18n_t_ui_hour12_false_hour')"2-digit"i18n.t('ui18n.t('ui_i18n_t_ui_closememorydetails_this_detailmemory_null_utilities_formattimestamp_timestamp_compact_false_if_timestamp_timestamp')ng')"en-US"i18n.t('i18n.t('ui_i18n_t_ui_return')_ui_year')"numeric"i18n.t('ui_i18n_t_ui_const_date_new_date_timestamp_if_isnan_date_gettime_return')_ui_day')"numeric"i18n.ti18n.t('ui_i18n_t_ui_if_compact_for_table_display_mm_dd_hh_mm_return_date_tolocaledatestring')ng')"en-US"i18n.ti18n.t('ui_i18n_t_ui_month')n_t_ui_hour12_true_i18n.t('ui_i18n_t_ui_day')18n.t('ui_i18n_t_uii18n.t('ui_i18n_t_ui')inute')"2-digi18n.t('ui_i18n_t_ui_date_tolocaletimestring')rmattags_tags_if_i18n.t('ui_i18n_t_ui_hour12_false_hour')_0_return')"None"i1i18n.t('ui_i18n_t_ui_minute')i18n_t_ui_return_tai18n.t('ui_i18n_t_ui_else_for_details_full_format_return_date_tolocaledatestring')rs_main')"#3b82f6i18n.t('ui_i18n_t_ui_year')t_ui_i18n_t_ui_fragi18n.t('ui_i18n_t_ui_month')8n.t('ui_i18n_t_i18n.t('ui_i18n_t_ui_day')utions')"#8b5cf6"i1i18n.t('ui_i18n_t_ui')n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui_date_tolocaletimestring')8n_t_ui_i18n_t_uii18n.t('ui_i18n_t_ui_hour12_true_hour')"i18n.t('ui_i18n_t_i18n.t('ui_i18n_t_ui_minute')clipboard_text_toasi18n.t('ui_i18n_t_ui_formattags_tags_if_array_isarray_tags_tags_length_0_return')lipboard_writetei18n.t('ui_i18n_t_ui_return_tags_join')justtoast')"Coi18n.t('ui_i18n_t_ui_getareacolor_area_const_colors_main')i')"success"i18n.t(i18n.t('ui_i18n_t_ui_fragments')i_catch_err_consolei18n.t('ui_i18n_t_ui_solutions')y failed:"i18n.t('ui18n.t('ui_i18n_t_ui_instruments')r_this_fallbackcopyi18n.t('ui_i18n_t_ui_return_colors_area')lse_this_fallbackcoi18n.t('ui_i18n_t_ui_copytoclipboard_text_toastsuccess_true_if_navigator_clipboard_window_issecurecontext_navigator_clipboard_writetext_text_then_if_toastsuccess_justtoast')area_value_text_textarea_style_pi18n.t('ui_i18n_t_ui')xed"i18n.t('ui_i18ni18n.t('ui_i18n_t_ui_catch_err_console_error'))"-999999px"i18n.t('ui_i18n_t_ui_ii18n.t('ui_i18n_t_ui_err_this_fallbackcopytoclipboard_text_toastsuccess_else_this_fallbackcopytoclipboard_text_toastsuccess_fallbackcopytoclipboard_text_toastsuccess_true_const_textarea_document_createelement')if_toastsuccess_justi18n.t('ui_i18n_t_ui_textarea_value_text_textarea_style_position')_ui')"success"i18i18n.t('ui_i18n_t_ui_textarea_style_left')h_err_console_error')i18n.t('ui_i18n_t_ui_textarea_style_top'):"i18n.t('ui_i18n_t_ui18n.t('ui_i18n_t_ui_document_body_appendchild_textarea_textarea_focus_textarea_select_try_document_execcommand')ui_i18n_t_ui_i18i18n.t('ui_i18n_t_ui_if_toastsuccess_justtoast')rea_async_deletememory_memory_ifi18n.t('ui_i18n_t_ui')_you_sure_you_want_i18n.t('ui_i18n_t_ui_catch_err_console_error')ea_return_try_check_if_this_is_the_memory_ci18n.t('ui_i18n_t_ui_err_justtoast')etail_modal_const_isviewingthismemory_ti18n.t('ui_i18n_t_ui')mory_this_detailmi18n.t('ui_i18n_t_ui_document_body_removechild_textarea_async_deletememory_memory_if_confirm_are_you_sure_you_want_to_delete_this_memory_from_memory_area_return_try_check_if_this_is_the_memory_currently_being_viewed_in_detail_modal_const_isviewingthismemory_this_detailmemory_this_detailmemory_id_memory_id_const_response_await_api_calljsonapi')i18n_t_ui_if_we_were_viewingi18n.t('ui_i18n_t_ui_action')ail_modal_close_iti18n.t('ui_i18n_t_ui_memory_subdir_this_selectedmemorysubdir_memory_id_memory_id_if_response_success_justtoast')he_data_instead_of_manual_manipulation_i18n.t('ui_i18n_t_ui')mmediate_refresh_toi18n.t('ui_i18n_t_ui_if_we_were_viewing_this_memory_in_detail_modal_close_it_if_isviewingthismemory_this_detailmemory_null_closemodal_close_the_detail_modal_let_polling_refresh_the_data_instead_of_manual_manipulation_trigger_an_immediate_refresh_to_get_updated_state_from_backend_await_this_searchmemories_true_silent_refresh_else_justtoast_failed_to_delete_memory_response_error')memories_if_this_i18n.t('ui_i18n_t_ui_catch_error_console_error')ies to export"i18n.t('ui_i18n_t_uii18n.t('ui_i18n_t_ui_error_justtoast')'ui_i18n_t_ui_i18n_t_ui_return_try_i18n.t('ui_i18n_t_ui')data_memory_subdii18n.t('ui_i18n_t_ui_exportmemories_if_this_memories_length_0_justtoast')ng_total_memories_this_memories_li18n.t('ui_i18n_t_ui')_query_this_searchqi18n.t('ui_i18n_t_ui_return_try_const_exportdata_memory_subdir_this_selectedmemorysubdir_export_timestamp_new_date_toisostring_total_memories_this_memories_length_search_query_this_searchquery_area_filter_this_areafilter_memories_this_memories_map_memory_id_memory_id_area_memory_area_timestamp_memory_timestamp_content_memory_content_full_metadata_memory_metadata_const_blob_new_blob_json_stringify_exportdata_null_2_type')_export_this_selectedmemorysi18n.t('ui_i18n_t_ui_const_url_url_createobjecturl_blob_const_a_document_createelement')ument_body_api18n.t('ui_i18n_t_ui_a_href_url_a_download_memory_export_this_selectedmemorysubdir_new_date_toisostring_split')pleted"i18n.ti18n.t('ui_i18n_t_ui_0_json_document_body_appendchild_a_a_click_document_body_removechild_a_url_revokeobjecturl_url_justtoast')8n.t('ui_i18n_t_ui_i18n_t_ui_error_i18n.t('ui_i18n_t_ui')Failed to export mei18n.t('ui_i18n_t_ui_catch_error_console_error'))"error"i18n.t('ui_i18n_t_ui_i18i18n.t('ui_i18n_t_ui_error_justtoast')ds_sse_provides_update_triggers_call_i18n.t('ui_i18n_t_ui')e_dialog_componeni18n.t('ui_i18n_t_ui_removed_polling_methods_sse_provides_update_triggers_call_this_when_the_dialog_component_is_closed_or_destroyed_cleanup_no_polling_to_stop_clean_sse_subscriptions_if_array_isarray_this_unsubs_this_unsubs_foreach_u_try_u_catch_this_unsubs_clear_data_without_triggering_a_new_search_component_is_being_destroyed_this_areafilter')this_totalcoi18n.t('ui_i18n_t_ui_this_searchquery')s_knowledgeci18n.t('ui_i18n_t_ui_this_memories_this_totalcount_0_this_totaldbcount_0_this_knowledgecount_0_this_conversationcount_0_this_areascount_this_message_null_this_currentpage_1_this_editmemorybackup_enableeditmode_this_editmode_true_this_editmemorybackup_json_stringify_this_detailmemory_store_backup_canceleditmode_this_editmode_false_this_detailmemory_json_parse_this_editmemorybackup_restore_backup_async_confirmeditmode_try_const_response_await_api_calljsonapi')8n_t_ui_i18n_t_ui_memory_subi18n.t('ui_i18n_t_ui_action')morysubdir_originai18n.t('ui_i18n_t_ui_memory_subdir_this_selectedmemorysubdir_original_json_parse_this_editmemorybackup_edited_this_detailmemory_if_response_success_justtoast')i')"success"i18n.t('ui_i18n_t_ui_i18n_ti18n.t('ui_i18n_t_ui')is_searchmemories_ti18n.t('ui_i18n_t_ui_await_this_searchmemories_true_silent_refresh_else_justtoast_failed_to_update_memory_response_error')this_editmode_fali18n.t('ui_i18n_t_ui_this_editmode_false_this_editmemorybackup_null_discard_backup_catch_error_console_error')"i18n.t('ui_i18n_t_ui_i18n_t_ui_error_ji18n.t('ui_i18n_t_ui_error_justtoast')mory changes."i18n.t('ui_i18n_t_ui_i18n_t_i18n.t('ui_i18n_t_ui')18n.t('ui_i18n_t_i18n.t('ui_i18n_t_ui_const_store_createstore')')"memoryDashboardStore", memoryDashboardStore);

export { store };
